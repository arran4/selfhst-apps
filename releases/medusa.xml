<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>Medusa Releases</title>
  <updated>2025-05-16T01:31:11.056174-04:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/medusajs/medusa/releases/tag/v2.6.1</id>
    <title>New release for Medusa: v2.6.1: Improved Scheduled Jobs</title>
    <updated>2025-03-10T11:47:34-04:00</updated>
    <author>
      <name>medusajs/medusa</name>
    </author>
    <content>&lt;!-- 
![image](https://gh-release-images.s3.eu-north-1.amazonaws.com/2.6.1.png)

# v2.6.1: Improve Scheduled Jobs execution

CMS_BREAK --&gt;

&lt;h2&gt;Highlights&lt;/h2&gt;
&lt;h3&gt;Scheduled Jobs execution&lt;/h3&gt;
&lt;p&gt;Ensure Scheduled Jobs are only executed by server instances running in &lt;strong&gt;worker&lt;/strong&gt; or &lt;strong&gt;shared&lt;/strong&gt; mode. Our workflow engine powers scheduled jobs, and we create a workflow for every job. Scheduled Jobs (i.e. workflows) are not registered in servers that run in &lt;strong&gt;server&lt;/strong&gt; mode. Consequently, if a &lt;strong&gt;server&lt;/strong&gt; instance tries to pick up a Scheduled Job, it will fail, as it cannot find the underlying workflow. This change ensures that only &lt;strong&gt;worker&lt;/strong&gt; and &lt;strong&gt;shared&lt;/strong&gt; server instances execute Scheduled Jobs.&lt;/p&gt;
&lt;h2&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;feat(workflows-sdk): Allow when then in parallelize by @adrien2p in https://github.com/medusajs/medusa/pull/11756&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Bugs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;fix(pricing): events by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/11742&lt;/li&gt;
&lt;li&gt;fix(workflow-engine-redis): Split the queues and respect worker mode for job executions by @adrien2p in https://github.com/medusajs/medusa/pull/11740&lt;/li&gt;
&lt;li&gt;fix(core-flows): conditionally create, update or delete products when input is present by @riqwan in https://github.com/medusajs/medusa/pull/11758&lt;/li&gt;
&lt;li&gt;Fix(framework): http cors middleware order and options by @adrien2p in https://github.com/medusajs/medusa/pull/11765&lt;/li&gt;
&lt;li&gt;chore: pin swc to 1.5.7 by @thetutlage in https://github.com/medusajs/medusa/pull/11759&lt;/li&gt;
&lt;li&gt;fix: Add created at and updated at dates to payment session by @sradevski in https://github.com/medusajs/medusa/pull/11774&lt;/li&gt;
&lt;li&gt;fix(core-flows): fulfillment reservation check by @fPolic in https://github.com/medusajs/medusa/pull/11735&lt;/li&gt;
&lt;li&gt;fix(dashboard): allow creating fulfillment for items without shipping profile by @fPolic in https://github.com/medusajs/medusa/pull/11733&lt;/li&gt;
&lt;li&gt;fix(dashboard): display minute instead of month by @fPolic in https://github.com/medusajs/medusa/pull/11731&lt;/li&gt;
&lt;li&gt;fix(medusa): Apply middleware to GET customers/:id/addresses/:address_id by @kasperkristensen in https://github.com/medusajs/medusa/pull/11788&lt;/li&gt;
&lt;li&gt;fix(medusa): Use correct query config by @kasperkristensen in https://github.com/medusajs/medusa/pull/11789&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Documentation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;docs: changes for next release by @shahednasser in https://github.com/medusajs/medusa/pull/11708&lt;/li&gt;
&lt;li&gt;docs-util: fix freshness check script by @shahednasser in https://github.com/medusajs/medusa/pull/11737&lt;/li&gt;
&lt;li&gt;docs: fix tag for JS SDK draft order + other fixes by @shahednasser in https://github.com/medusajs/medusa/pull/11747&lt;/li&gt;
&lt;li&gt;Update page.mdx by @MedusaNick in https://github.com/medusajs/medusa/pull/11752&lt;/li&gt;
&lt;li&gt;docs: changes to main docs sidebar by @shahednasser in https://github.com/medusajs/medusa/pull/11750&lt;/li&gt;
&lt;li&gt;docs: add sidebar sorting logic by @shahednasser in https://github.com/medusajs/medusa/pull/11751&lt;/li&gt;
&lt;li&gt;docs-util: add exceptions for routes with custom auth middleware by @shahednasser in https://github.com/medusajs/medusa/pull/11755&lt;/li&gt;
&lt;li&gt;docs: change link to cloud pricing by @shahednasser in https://github.com/medusajs/medusa/pull/11753&lt;/li&gt;
&lt;li&gt;chore: remove ranges on medusa packages by @olivermrbl in https://github.com/medusajs/medusa/pull/11738&lt;/li&gt;
&lt;li&gt;docs: support multiple sidebars in a project by @shahednasser in https://github.com/medusajs/medusa/pull/11768&lt;/li&gt;
&lt;li&gt;docs: update UI docs to latest version by @shahednasser in https://github.com/medusajs/medusa/pull/11770&lt;/li&gt;
&lt;li&gt;docs: fix duplicate footer in user guide by @shahednasser in https://github.com/medusajs/medusa/pull/11785&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Chores&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;chore(product): Improve product normalization and fix http router with tracing by @adrien2p in https://github.com/medusajs/medusa/pull/11724&lt;/li&gt;
&lt;li&gt;chore(js-sdk): fix tsdocs for properties and methods by @shahednasser in https://github.com/medusajs/medusa/pull/11748&lt;/li&gt;
&lt;li&gt;chore(cart, core-flows): Improve tax lines algo management by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/11715&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Full Changelog&lt;/strong&gt;: https://github.com/medusajs/medusa/compare/v2.6.0...v2.6.1&lt;/p&gt;</content>
    <link href="https://github.com/medusajs/medusa/releases/tag/v2.6.1" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/medusajs/medusa/releases/tag/v2.7.0</id>
    <title>New release for Medusa: v2.7.0: Save payment methods, improved links, and performance improvements</title>
    <updated>2025-04-11T04:53:37-04:00</updated>
    <author>
      <name>medusajs/medusa</name>
    </author>
    <content>&lt;!-- 
![image](https://gh-release-images.s3.eu-north-1.amazonaws.com/2.7.0.png)

# v2.7.0: Save payment methods, improved links, and performance improvements

This release comes with extended payment method capabilities, improved links, and significant performance improvements.

CMS_BREAK --&gt;

&lt;h2&gt;Highlights&lt;/h2&gt;
&lt;h3&gt;Support multiple payment account holders for customers&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!WARNING]&lt;br /&gt;
Breaking changes&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This release adds support for a customer to have multiple account holders, therefore supporting multiple payment providers at the same time.&lt;/p&gt;
&lt;p&gt;If you were using &lt;code&gt;customer.account_holder&lt;/code&gt; in your implementation, you must change it to &lt;code&gt;customer.account_holders&lt;/code&gt; and choose the relevant one for the provider_id you want to use. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;If you haven't done anything custom with payments and account holders, there are no breaking changes.&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;Enforce integrity constraints on module links&lt;/h3&gt;
&lt;p&gt;This release enforces integrity constraints on module links in the application layer. &lt;/p&gt;
&lt;p&gt;The constraints are enforced as exemplified below:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;One-to-one&lt;/strong&gt;
```ts
export default defineLink(
  ProductModule.linkable.product,
  CustomModule.linkable.customModel
)&lt;/p&gt;
&lt;p&gt;// This succeeds
await link.create({&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;product_id: "prod_123",
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;},
  "customModule": {
    custom_id: "cus_123",
  },
})&lt;/p&gt;
&lt;p&gt;// This throws
await link.create({&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;product_id: "prod_123",
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;},
  "customModule": {
    custom_id: "cus_321",
  },
})&lt;/p&gt;
&lt;p&gt;// This throws
await link.create({&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;product_id: "prod_321",
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;},
  "customModule": {
    custom_id: "cus_123",
  },
})
``` &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;One-to-many / Many-to-one&lt;/strong&gt;
```ts
export default defineLink(
  ProductModule.linkable.product,
  {
    linkable: CustomModule.linkable.customModel,
    isList: true,
  }
)&lt;/p&gt;
&lt;p&gt;// export default defineLink(
//   { 
//     linkable: ProductModule.linkable.product,
//     isList: true,
//   },
//   CustomModule.linkable.customModel
// )&lt;/p&gt;
&lt;p&gt;// This succeeds
await link.create({&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;product_id: "prod_123",
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;},
  "customModule": {
    custom_id: "cus_123",
  },
})&lt;/p&gt;
&lt;p&gt;// This succeeds
await link.create({&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;product_id: "prod_123",
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;},
  "customModule": {
    custom_id: "cus_321",
  },
})&lt;/p&gt;
&lt;p&gt;// This throws
await link.create({&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;product_id: "prod_456",
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;},
  "customModule": {
    custom_id: "cus_123",
  },
})
```&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Many-to-many&lt;/strong&gt;
```ts
export default defineLink(
  {
    linkable: ProductModule.linkable.product,
    isList: true
  },
  {
    linkable: CustomModule.linkable.customModel,
    isList: true,
  }
)&lt;/p&gt;
&lt;p&gt;// This succeeds
await link.create({&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;product_id: "prod_123",
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;},
  "customModule": {
    custom_id: "cus_123",
  },
})&lt;/p&gt;
&lt;p&gt;// This succeeds
await link.create({&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;product_id: "prod_123",
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;},
  "customModule": {
    custom_id: "cus_321",
  },
})&lt;/p&gt;
&lt;p&gt;// This succeeds
await link.create({&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;product_id: "prod_456",
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;},
  "customModule": {
    custom_id: "cus_123",
  },
})
```&lt;/p&gt;
&lt;h3&gt;Introduce dynamic pricing workflow hooks&lt;/h3&gt;
&lt;p&gt;This release introduces workflow hooks to override the default pricing context passed to the pricing module when calculating prices for variants and shipping options.&lt;/p&gt;
&lt;p&gt;Prices with custom rules need a different context than what is passed by default. For example, say you have a custom rule that ties prices with a specific location &lt;code&gt;location_id: loc_1234&lt;/code&gt;. To account for this rule in the price calculation logic, the pricing context needs to be populated with a &lt;code&gt;location_id&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The pricing hooks are used as follows:
```ts
// src/workflows/hooks/pricing-hooks.ts
import { addToCartWorkflow } from "@medusajs/medusa/core-flows";
import { StepResponse } from "@medusajs/workflows-sdk";&lt;/p&gt;
&lt;p&gt;addToCartWorkflow.hooks.setPricingContext(() =&amp;gt; {
  return new StepResponse({
    location_id: "loca_1234", // Special price for in-store purchases
  });
});
```&lt;/p&gt;
&lt;p&gt;Assuming you have a custom pricing rule &lt;code&gt;{ attribute: "location_id", operator: "eq", value: "loca_1234" }&lt;/code&gt;, this would be part of the pricing result set when retrieving the associated product variant or adding the same to the cart.&lt;/p&gt;
&lt;p&gt;The hooks have been introduced to the following workflows:
- &lt;code&gt;addToCartWorkflow&lt;/code&gt;
- &lt;code&gt;createCartsWorkflow&lt;/code&gt;
- &lt;code&gt;listShippingOptionsForCartWorkflow&lt;/code&gt;
- &lt;code&gt;refreshCartItemsWorkflow&lt;/code&gt;
- &lt;code&gt;updateLineItemInCartWorkflow&lt;/code&gt;
- &lt;code&gt;addLineItemsToOrderWorkflow&lt;/code&gt;
- &lt;code&gt;updateClaimShippingMethodWorkflow&lt;/code&gt;
- &lt;code&gt;createOrderWorkflow&lt;/code&gt;
- &lt;code&gt;updateExchangeShippingMethodWorkflow&lt;/code&gt;
- &lt;code&gt;createOrderEditShippingMethodWorkflow&lt;/code&gt;
- &lt;code&gt;updateOrderEditShippingMethodWorkflow&lt;/code&gt;
- &lt;code&gt;createCompleteReturnWorkflow&lt;/code&gt;
- &lt;code&gt;updateReturnShippingMethodWorkflow&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Please don't hesitate to submit a Github issue, if you want us to consider adding the hook to more workflows.&lt;/p&gt;
&lt;h3&gt;Resolve issues with broken plugin dependencies in development server&lt;/h3&gt;
&lt;p&gt;This release reworks how admin extensions are loaded from plugins and how extensions are managed internally in the dashboard project.&lt;/p&gt;
&lt;p&gt;Previously we loaded extensions from plugins the same way we do for extensions found in a user's application. This being scanning the source code for possible extensions in &lt;code&gt;.medusa/server/src/admin&lt;/code&gt;, and including any extensions that were discovered in the final virtual modules.&lt;/p&gt;
&lt;p&gt;This was causing issues with how Vite optimizes dependencies and would lead to CJS/ESM issues.&lt;/p&gt;
&lt;p&gt;To circumvent the above issue, we have changed the strategy for loading extensions from plugins. We now build plugins slightly different–if a plugin has admin extensions, we build those to &lt;code&gt;.medusa/server/src/admin/index.mjs&lt;/code&gt; and &lt;code&gt;.medusa/server/src/admin/index.js&lt;/code&gt; for a ESM and CJS build.&lt;/p&gt;
&lt;p&gt;When determining how to load extensions from a source, we follow these rules:
- If the source has a &lt;code&gt;medusa-plugin-options.json&lt;/code&gt; or is the root application, we determine that it is a local extension source and load extensions as previously through a virtual module.
- If it has neither of the above, but has a &lt;code&gt;./admin&lt;/code&gt; export in its &lt;code&gt;package.json&lt;/code&gt;, then we determine that it is a package extension, and we update the entry point for the dashboard to import the package and pass its extensions along to the dashboard manager.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Changes required by plugin authors&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The change has no breaking changes, but requires plugin authors to update the package.json of their plugins to also include a ./admin export. It should look like this:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;json
{
  "name": "@medusajs/plugin",
  "version": "0.0.1",
  "description": "A starter for Medusa plugins.",
  "author": "Medusa (https://medusajs.com)",
  "license": "MIT",
  "files": [
    ".medusa/server"
  ],
  "exports": {
    "./package.json": "./package.json",
    "./workflows": "./.medusa/server/src/workflows/index.js",
    "./.medusa/server/src/modules/*": "./.medusa/server/src/modules/*/index.js",
    "./modules/*": "./.medusa/server/src/modules/*/index.js",
    "./providers/*": "./.medusa/server/src/providers/*/index.js",
    "./*": "./.medusa/server/src/*.js",
    "./admin": {
      "import": "./.medusa/server/src/admin/index.mjs",
      "require": "./.medusa/server/src/admin/index.js",
      "default": "./.medusa/server/src/admin/index.js"
    }
  },
}&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Improve performance of price-selection&lt;/h3&gt;
&lt;p&gt;This release comes with significant optimizations of the pricing retrieval query to improve performance, especially on large datasets.&lt;/p&gt;
&lt;p&gt;We have:
- Removed costly subqueries and excessive joins
- Leveraged targeted subqueries and indexed filters for rule checks
- Optimized queries without rule contexts to bypass unnecessary logic&lt;/p&gt;
&lt;p&gt;The improvements have been tested on a dataset with ~1,200,000 prices and ~1,200,000 price rules. The impact of the changes are as follows:
- Before: ~718ms execution time
- After: ~17ms execution time&lt;/p&gt;
&lt;p&gt;We are dedicated to continuously improve performance, so you can expect further improvements going forward.&lt;/p&gt;
&lt;h3&gt;Improve the robustness of payment workflows&lt;/h3&gt;
&lt;p&gt;This release improves the robustness of payment workflows by squashing a range of minor bugs.&lt;/p&gt;
&lt;p&gt;These fixes can be found in the following PRs:
- https://github.com/medusajs/medusa/pull/11958
- https://github.com/medusajs/medusa/pull/11798
- https://github.com/medusajs/medusa/pull/11872
- https://github.com/medusajs/medusa/pull/11919
- https://github.com/medusajs/medusa/pull/11993
- https://github.com/medusajs/medusa/pull/12007
- https://github.com/medusajs/medusa/pull/11832&lt;/p&gt;
&lt;h2&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;fix(medusa,utils,test-utils,types,framework,dashboard,admin-vite-plugin,admin-bundler): Fix broken plugin dependencies in development server by @kasperkristensen in https://github.com/medusajs/medusa/pull/11720&lt;/li&gt;
&lt;li&gt;refactor: use module name as the snapshot name by @thetutlage in https://github.com/medusajs/medusa/pull/11802&lt;/li&gt;
&lt;li&gt;feat: Change customer to account_holder to be one-to-many by @sradevski in https://github.com/medusajs/medusa/pull/11803&lt;/li&gt;
&lt;li&gt;feat: add check for uniqueness when creating links with isList=false by @thetutlage in https://github.com/medusajs/medusa/pull/11767&lt;/li&gt;
&lt;li&gt;fix(types,order,medusa): Create credit lines + hooks by @riqwan in https://github.com/medusajs/medusa/pull/11569&lt;/li&gt;
&lt;li&gt;feat(dashboard,js-sdk,admin-shared): add customer addresses + layout change by @riqwan in https://github.com/medusajs/medusa/pull/11871&lt;/li&gt;
&lt;li&gt;feat(core-flows,types,utils): make payment optional when cart balance is 0 by @riqwan in https://github.com/medusajs/medusa/pull/11872&lt;/li&gt;
&lt;li&gt;feat(medusa,types): add enabled plugins route by @riqwan in https://github.com/medusajs/medusa/pull/11876&lt;/li&gt;
&lt;li&gt;feat: Add support for generating a production-ready config out of the… by @sradevski in https://github.com/medusajs/medusa/pull/11850&lt;/li&gt;
&lt;li&gt;feat: add support for accessing step results via context by @thetutlage in https://github.com/medusajs/medusa/pull/11907&lt;/li&gt;
&lt;li&gt;feat(core-flows, types): calculated shipping in RMA flows by @fPolic in https://github.com/medusajs/medusa/pull/11533&lt;/li&gt;
&lt;li&gt;feat(core-flows,types,order,cart): assign tax lines only to regular products by @riqwan in https://github.com/medusajs/medusa/pull/11994&lt;/li&gt;
&lt;li&gt;feat: Set pricing context hook by @thetutlage in https://github.com/medusajs/medusa/pull/11891&lt;/li&gt;
&lt;li&gt;feat(medusa,core-flows,types,js-sdk): Draft Order workflows and API endpoints by @kasperkristensen in https://github.com/medusajs/medusa/pull/11805&lt;/li&gt;
&lt;li&gt;feat: add &lt;code&gt;hasMany&lt;/code&gt; flag to enforce in app link uniqueness by @thetutlage in https://github.com/medusajs/medusa/pull/12039&lt;/li&gt;
&lt;li&gt;feat(core-flows,types): export fetchShippingOptionForOrderWorkflow by @shahednasser in https://github.com/medusajs/medusa/pull/12103&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Bugs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;fix(workflow-engines): race condition when retry interval is used by @adrien2p in https://github.com/medusajs/medusa/pull/11771&lt;/li&gt;
&lt;li&gt;fix(workflow-engine-*): scheduled jobs interval by @adrien2p in https://github.com/medusajs/medusa/pull/11800&lt;/li&gt;
&lt;li&gt;fix(dashboard): Include thumbnail in default product query by @kasperkristensen in https://github.com/medusajs/medusa/pull/11825&lt;/li&gt;
&lt;li&gt;fix(promotion): percentage value is accounted for in buyget promotions by @riqwan in https://github.com/medusajs/medusa/pull/11799&lt;/li&gt;
&lt;li&gt;fix(workflow-engine-inmemory): Fail trap for integration tests by @adrien2p in https://github.com/medusajs/medusa/pull/11839&lt;/li&gt;
&lt;li&gt;fix(dashboard): display inventory item sku by @fPolic in https://github.com/medusajs/medusa/pull/11856&lt;/li&gt;
&lt;li&gt;fix(dashboard): location injection zones by @fPolic in https://github.com/medusajs/medusa/pull/11845&lt;/li&gt;
&lt;li&gt;fix: register locking provider with its unique id by @thetutlage in https://github.com/medusajs/medusa/pull/11874&lt;/li&gt;
&lt;li&gt;fix: hooks auto-generated types to have precise input options by @thetutlage in https://github.com/medusajs/medusa/pull/11886&lt;/li&gt;
&lt;li&gt;feat(core-flows): revisit fulfillment flow reservations and support inventory kit by @fPolic in https://github.com/medusajs/medusa/pull/11790&lt;/li&gt;
&lt;li&gt;fix(ui): Disable select cells if the row cannot be selected by @kasperkristensen in https://github.com/medusajs/medusa/pull/11442&lt;/li&gt;
&lt;li&gt;fix(js-sdk): fix the API route used in fulfillment.cancel method by @shahednasser in https://github.com/medusajs/medusa/pull/11936&lt;/li&gt;
&lt;li&gt;fix(js-sdk): fix the return type of the &lt;code&gt;promotion.listRules&lt;/code&gt; method by @shahednasser in https://github.com/medusajs/medusa/pull/11937&lt;/li&gt;
&lt;li&gt;fix(dashboard): Reduce size of Notifications Trigger by @kasperkristensen in https://github.com/medusajs/medusa/pull/11955&lt;/li&gt;
&lt;li&gt;fix(js-sdk, types): fixes types and deprecate duplicate methods by @shahednasser in https://github.com/medusajs/medusa/pull/11975&lt;/li&gt;
&lt;li&gt;fix(order): caculate received total for pending difference by @fPolic in https://github.com/medusajs/medusa/pull/11919&lt;/li&gt;
&lt;li&gt;fix(utils,promotion): fix case where mutliple percentage promotions werent applied by @riqwan in https://github.com/medusajs/medusa/pull/11992&lt;/li&gt;
&lt;li&gt;fix(dashboard): Product export fields by @olivermrbl in https://github.com/medusajs/medusa/pull/11999&lt;/li&gt;
&lt;li&gt;fix(medusa): skip index when tags or categories present by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/12006&lt;/li&gt;
&lt;li&gt;fix(dashboard): refund form input by @fPolic in https://github.com/medusajs/medusa/pull/11993&lt;/li&gt;
&lt;li&gt;fix(dashboard): notification list scroll flickering by @fPolic in https://github.com/medusajs/medusa/pull/11911&lt;/li&gt;
&lt;li&gt;fix(dashboard): trim some product create inputs to prevent creation error by @fPolic in https://github.com/medusajs/medusa/pull/12004&lt;/li&gt;
&lt;li&gt;fix(dashboard): return form pending diff by @fPolic in https://github.com/medusajs/medusa/pull/12007&lt;/li&gt;
&lt;li&gt;fix(dashboard): RMA allow shipping unset by @fPolic in https://github.com/medusajs/medusa/pull/12021&lt;/li&gt;
&lt;li&gt;fix(dashboard): Allow empty subpaths for route extensions by @kasperkristensen in https://github.com/medusajs/medusa/pull/12030&lt;/li&gt;
&lt;li&gt;fix(dashboard,medusa,types): allow searching for promotion rule options by @kasperkristensen in https://github.com/medusajs/medusa/pull/12028&lt;/li&gt;
&lt;li&gt;feat(core-flows, types): try payment cancelation if cart complete fails in the webhook by @fPolic in https://github.com/medusajs/medusa/pull/11832&lt;/li&gt;
&lt;li&gt;fix(utils): Enable Redis locking by default in Cloud by @olivermrbl in https://github.com/medusajs/medusa/pull/12017&lt;/li&gt;
&lt;li&gt;fix: validate module names to disallow unallowed characters by @thetutlage in https://github.com/medusajs/medusa/pull/12025&lt;/li&gt;
&lt;li&gt;fix(core-flows): applying product type promotion by @fPolic in https://github.com/medusajs/medusa/pull/12051&lt;/li&gt;
&lt;li&gt;fix(core-flows,dashboard): handling authorized payment collection on OE by @fPolic in https://github.com/medusajs/medusa/pull/11958&lt;/li&gt;
&lt;li&gt;fix(order): update add item unit price by @fPolic in https://github.com/medusajs/medusa/pull/12072&lt;/li&gt;
&lt;li&gt;fix(dashboard): product create discountable flag by @fPolic in https://github.com/medusajs/medusa/pull/12073&lt;/li&gt;
&lt;li&gt;fix(orchestration): handle multiple shortcuts with same name by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/12066&lt;/li&gt;
&lt;li&gt;fix(workflow-engine-*): Prevent passing shared context reference by @adrien2p in https://github.com/medusajs/medusa/pull/11873&lt;/li&gt;
&lt;li&gt;fix: allow backorder variants to be added to cart even if no locations by @peterlgh7 in https://github.com/medusajs/medusa/pull/12083&lt;/li&gt;
&lt;li&gt;fix(orchestrator): save checkpoint before async step by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/12138&lt;/li&gt;
&lt;li&gt;fix(dashboard): product type metadata form by @fPolic in https://github.com/medusajs/medusa/pull/12149&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Documentation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;feat: add Quote Management guide by @shahednasser in https://github.com/medusajs/medusa/pull/11741&lt;/li&gt;
&lt;li&gt;docs: update sidebars and navigation bar by @shahednasser in https://github.com/medusajs/medusa/pull/11793&lt;/li&gt;
&lt;li&gt;docs: fix restaurant-delivery recipe after latest update by @shahednasser in https://github.com/medusajs/medusa/pull/11806&lt;/li&gt;
&lt;li&gt;docs: add missing details related to links and migrations by @shahednasser in https://github.com/medusajs/medusa/pull/11809&lt;/li&gt;
&lt;li&gt;docs: improvement to sidebar by @shahednasser in https://github.com/medusajs/medusa/pull/11810&lt;/li&gt;
&lt;li&gt;docs: add worker mode documentation + improvements by @shahednasser in https://github.com/medusajs/medusa/pull/11812&lt;/li&gt;
&lt;li&gt;docs: add documentation for Locking Module by @shahednasser in https://github.com/medusajs/medusa/pull/11824&lt;/li&gt;
&lt;li&gt;Update page.mdx by @MedusaNick in https://github.com/medusajs/medusa/pull/11841&lt;/li&gt;
&lt;li&gt;Update page.mdx by @AmbroziuBaban in https://github.com/medusajs/medusa/pull/11859&lt;/li&gt;
&lt;li&gt;docs: improve links to other modules docs by @shahednasser in https://github.com/medusajs/medusa/pull/11868&lt;/li&gt;
&lt;li&gt;docs: update and improve marketplace recipe by @shahednasser in https://github.com/medusajs/medusa/pull/11870&lt;/li&gt;
&lt;li&gt;docs: read-only links + other changes by @shahednasser in https://github.com/medusajs/medusa/pull/11878&lt;/li&gt;
&lt;li&gt;docs: added how-to guides for architectural modules by @shahednasser in https://github.com/medusajs/medusa/pull/11883&lt;/li&gt;
&lt;li&gt;docs: improved data model docs by @shahednasser in https://github.com/medusajs/medusa/pull/11884&lt;/li&gt;
&lt;li&gt;docs: cache revalidation in next.js storefront + storefront totals by @shahednasser in https://github.com/medusajs/medusa/pull/11887&lt;/li&gt;
&lt;li&gt;docs: generated references after collapse types improvement by @shahednasser in https://github.com/medusajs/medusa/pull/11889&lt;/li&gt;
&lt;li&gt;docs-util: collapse types in references by @shahednasser in https://github.com/medusajs/medusa/pull/11888&lt;/li&gt;
&lt;li&gt;docs: add prepare script to generate sidebar by @shahednasser in https://github.com/medusajs/medusa/pull/11894&lt;/li&gt;
&lt;li&gt;docs: added to workflow legend + example improvements by @shahednasser in https://github.com/medusajs/medusa/pull/11895&lt;/li&gt;
&lt;li&gt;docs: fix request http method in wishlist guide by @shahednasser in https://github.com/medusajs/medusa/pull/11902&lt;/li&gt;
&lt;li&gt;docs: added product review guide by @shahednasser in https://github.com/medusajs/medusa/pull/11852&lt;/li&gt;
&lt;li&gt;docs: improved search results by @shahednasser in https://github.com/medusajs/medusa/pull/11909&lt;/li&gt;
&lt;li&gt;docs: added troubleshooting guides + improvements by @shahednasser in https://github.com/medusajs/medusa/pull/11927&lt;/li&gt;
&lt;li&gt;docs: fix sitemap of ui docs by @shahednasser in https://github.com/medusajs/medusa/pull/11928&lt;/li&gt;
&lt;li&gt;docs: add a note to stripe customization in next.js starter by @shahednasser in https://github.com/medusajs/medusa/pull/11929&lt;/li&gt;
&lt;li&gt;docs: add missing ui dependency by @shahednasser in https://github.com/medusajs/medusa/pull/11931&lt;/li&gt;
&lt;li&gt;docs-util: add tool to generate mapping between JS SDK examples and routes by @shahednasser in https://github.com/medusajs/medusa/pull/11933&lt;/li&gt;
&lt;li&gt;docs: typos and examples fixes by @shahednasser in https://github.com/medusajs/medusa/pull/11954&lt;/li&gt;
&lt;li&gt;docs: fixes to search in API references by @shahednasser in https://github.com/medusajs/medusa/pull/11959&lt;/li&gt;
&lt;li&gt;docs-util: add JS SDK examples to generated OAS by @shahednasser in https://github.com/medusajs/medusa/pull/11935&lt;/li&gt;
&lt;li&gt;docs-utils: support routes that include global variables by @shahednasser in https://github.com/medusajs/medusa/pull/11976&lt;/li&gt;
&lt;li&gt;docs: fixes to quotes management guide by @shahednasser in https://github.com/medusajs/medusa/pull/11981&lt;/li&gt;
&lt;li&gt;docs: clarify limitations in query brands guide by @shahednasser in https://github.com/medusajs/medusa/pull/11980&lt;/li&gt;
&lt;li&gt;docs-util: sort examples to show JS SDK first by @shahednasser in https://github.com/medusajs/medusa/pull/11986&lt;/li&gt;
&lt;li&gt;docs: small improvements to the general deployment guide by @shahednasser in https://github.com/medusajs/medusa/pull/11978&lt;/li&gt;
&lt;li&gt;docs: add sitemap to API reference by @shahednasser in https://github.com/medusajs/medusa/pull/11985&lt;/li&gt;
&lt;li&gt;docs: remove custom searching mechanism by @shahednasser in https://github.com/medusajs/medusa/pull/11984&lt;/li&gt;
&lt;li&gt;docs: improve page titles by @shahednasser in https://github.com/medusajs/medusa/pull/11987&lt;/li&gt;
&lt;li&gt;docs-util: add a prefix for JS SDK examples in OAS by @shahednasser in https://github.com/medusajs/medusa/pull/11989&lt;/li&gt;
&lt;li&gt;docs: update storefront development guides to use JS SDK [1] by @shahednasser in https://github.com/medusajs/medusa/pull/11991&lt;/li&gt;
&lt;li&gt;docs: update storefront development guides to use JS SDK [2] by @shahednasser in https://github.com/medusajs/medusa/pull/12015&lt;/li&gt;
&lt;li&gt;docs: add JS SDK snippets in API reference introduction sections by @shahednasser in https://github.com/medusajs/medusa/pull/12018&lt;/li&gt;
&lt;li&gt;docs: added tutorial for abandoned cart by @shahednasser in https://github.com/medusajs/medusa/pull/11917&lt;/li&gt;
&lt;li&gt;docs: added algolia guide by @shahednasser in https://github.com/medusajs/medusa/pull/11971&lt;/li&gt;
&lt;li&gt;docs: migrate magento to medusa guide by @shahednasser in https://github.com/medusajs/medusa/pull/11418&lt;/li&gt;
&lt;li&gt;docs: updates and improvements to JS SDK guides by @shahednasser in https://github.com/medusajs/medusa/pull/12026&lt;/li&gt;
&lt;li&gt;docs: small fix to abandoned cart guide by @shahednasser in https://github.com/medusajs/medusa/pull/12029&lt;/li&gt;
&lt;li&gt;docs: sort API reference sidebar items and sections by @shahednasser in https://github.com/medusajs/medusa/pull/12032&lt;/li&gt;
&lt;li&gt;docs: added a routes summary section in API reference by @shahednasser in https://github.com/medusajs/medusa/pull/12035&lt;/li&gt;
&lt;li&gt;docs-util: handle workflows with intersection hook types by @shahednasser in https://github.com/medusajs/medusa/pull/12099&lt;/li&gt;
&lt;li&gt;docs: fixes to content and UI by @shahednasser in https://github.com/medusajs/medusa/pull/12101&lt;/li&gt;
&lt;li&gt;docs: update bulk editor user guide + add redirect from old v1 next js by @shahednasser in https://github.com/medusajs/medusa/pull/12104&lt;/li&gt;
&lt;li&gt;docs: added missing information on plugin migrations by @shahednasser in https://github.com/medusajs/medusa/pull/12108&lt;/li&gt;
&lt;li&gt;Fixed typo by @Dev-Abdullah-H in https://github.com/medusajs/medusa/pull/12107&lt;/li&gt;
&lt;li&gt;docs: remove start-cluster command + update start options by @shahednasser in https://github.com/medusajs/medusa/pull/12116&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Chores&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;chore(types): add tsdocs for locking module and provider by @shahednasser in https://github.com/medusajs/medusa/pull/11818&lt;/li&gt;
&lt;li&gt;chore(types): small fixes to locking TSDocs by @shahednasser in https://github.com/medusajs/medusa/pull/11823&lt;/li&gt;
&lt;li&gt;chore(workflow-engine-redis): remove repeatable jobs from old queue by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/11822&lt;/li&gt;
&lt;li&gt;chore: admin product list transform filter by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/11821&lt;/li&gt;
&lt;li&gt;chore(workflow-engine): export cancel method by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/11844&lt;/li&gt;
&lt;li&gt;chore(ui-preset,icons,dashboard) by @kasperkristensen in https://github.com/medusajs/medusa/pull/11734&lt;/li&gt;
&lt;li&gt;chore: added / improved tsdocs to cache, event, file, and notification modules by @shahednasser in https://github.com/medusajs/medusa/pull/11879&lt;/li&gt;
&lt;li&gt;chore: fix links in contribution guidelines by @shahednasser in https://github.com/medusajs/medusa/pull/11829&lt;/li&gt;
&lt;li&gt;chore(js-sdk,types): add missing examples for JS SDK methods by @shahednasser in https://github.com/medusajs/medusa/pull/11934&lt;/li&gt;
&lt;li&gt;chore(core-flows): price list skip when no data by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/11977&lt;/li&gt;
&lt;li&gt;chore(js-sdk): improve the TSDocs of auth methods in JS SDK by @shahednasser in https://github.com/medusajs/medusa/pull/12033&lt;/li&gt;
&lt;li&gt;chore(link-modules): backward compatible links by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/12062&lt;/li&gt;
&lt;li&gt;chore(core-flows): added TSDocs for setPricingContext hooks by @shahednasser in https://github.com/medusajs/medusa/pull/12100&lt;/li&gt;
&lt;li&gt;chore(types,utils): fixes to TSDocs for HTTP types and payment provider by @shahednasser in https://github.com/medusajs/medusa/pull/12102&lt;/li&gt;
&lt;li&gt;chore(js-sdk, types): add TSDocs for plugin methods in JS SDK by @shahednasser in https://github.com/medusajs/medusa/pull/12106&lt;/li&gt;
&lt;li&gt;chore(): Emit events in batch and index process event ids in batch by @adrien2p in https://github.com/medusajs/medusa/pull/12097&lt;/li&gt;
&lt;li&gt;chore(framework): slightly improve maybe apply link filter middleware by @adrien2p in https://github.com/medusajs/medusa/pull/12113&lt;/li&gt;
&lt;li&gt;chore(pricing): improve calculate prices performances by @adrien2p in https://github.com/medusajs/medusa/pull/12120&lt;/li&gt;
&lt;li&gt;chore: retry util on tests by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/12126&lt;/li&gt;
&lt;li&gt;chore(medusa-test-utils): Prevent waiting for event indefinately by @adrien2p in https://github.com/medusajs/medusa/pull/12137&lt;/li&gt;
&lt;li&gt;chore(pricing): Pricing retrieval improvements by @adrien2p in https://github.com/medusajs/medusa/pull/12128&lt;/li&gt;
&lt;li&gt;chore(promotion): Improve performances [1] by @adrien2p in https://github.com/medusajs/medusa/pull/12129&lt;/li&gt;
&lt;li&gt;chore: Cache available price rule attributes by @adrien2p in https://github.com/medusajs/medusa/pull/12144&lt;/li&gt;
&lt;li&gt;chore: Patch changesets to avoid major bumps by @olivermrbl in https://github.com/medusajs/medusa/pull/12151&lt;/li&gt;
&lt;li&gt;chore(product): Missing index in migration by @adrien2p in https://github.com/medusajs/medusa/pull/12150&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Other Changes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Polish translations improvements by @RadzioN in https://github.com/medusajs/medusa/pull/11808&lt;/li&gt;
&lt;li&gt;fix: preserve payment sessions during certain Stripe errors for webhook reconciliation by @Saryazdi-Saman in https://github.com/medusajs/medusa/pull/11798&lt;/li&gt;
&lt;li&gt;fix(core-flows): add no_notification to shipment created event by @OttavioCas in https://github.com/medusajs/medusa/pull/11836&lt;/li&gt;
&lt;li&gt;fix(dashboard): repaired scrollbar behavior in variant inventory form by @RadzioN in https://github.com/medusajs/medusa/pull/11710&lt;/li&gt;
&lt;li&gt;fix(dashboard): EN translation mistypes, missing words by @bandzaitis in https://github.com/medusajs/medusa/pull/11904&lt;/li&gt;
&lt;li&gt;feat(dashboard): add support for Lithuanian language by @bandzaitis in https://github.com/medusajs/medusa/pull/11903&lt;/li&gt;
&lt;li&gt;Minor Translation Corrections (German / DE) by @pixelwiese in https://github.com/medusajs/medusa/pull/11990&lt;/li&gt;
&lt;li&gt;Add Vietnamese Language by @sonvivu in https://github.com/medusajs/medusa/pull/11969&lt;/li&gt;
&lt;li&gt;fix: fix German translation for 'captured' by @philippeckelintive in https://github.com/medusajs/medusa/pull/12008&lt;/li&gt;
&lt;li&gt;fix(dashboard): add missing IT translations for "filters" group by @SteelRazor47 in https://github.com/medusajs/medusa/pull/12069&lt;/li&gt;
&lt;li&gt;Added Korean translation by @PauseB in https://github.com/medusajs/medusa/pull/12076&lt;/li&gt;
&lt;li&gt;Feat: Add quantity inventory translation for es and en by @paolorossig in https://github.com/medusajs/medusa/pull/11564&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;New Contributors&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;@RadzioN made their first contribution in https://github.com/medusajs/medusa/pull/11808&lt;/li&gt;
&lt;li&gt;@Saryazdi-Saman made their first contribution in https://github.com/medusajs/medusa/pull/11798&lt;/li&gt;
&lt;li&gt;@OttavioCas made their first contribution in https://github.com/medusajs/medusa/pull/11836&lt;/li&gt;
&lt;li&gt;@AmbroziuBaban made their first contribution in https://github.com/medusajs/medusa/pull/11859&lt;/li&gt;
&lt;li&gt;@bandzaitis made their first contribution in https://github.com/medusajs/medusa/pull/11904&lt;/li&gt;
&lt;li&gt;@sonvivu made their first contribution in https://github.com/medusajs/medusa/pull/11969&lt;/li&gt;
&lt;li&gt;@philippeckelintive made their first contribution in https://github.com/medusajs/medusa/pull/12008&lt;/li&gt;
&lt;li&gt;@SteelRazor47 made their first contribution in https://github.com/medusajs/medusa/pull/12069&lt;/li&gt;
&lt;li&gt;@PauseB made their first contribution in https://github.com/medusajs/medusa/pull/12076&lt;/li&gt;
&lt;li&gt;@Dev-Abdullah-H made their first contribution in https://github.com/medusajs/medusa/pull/12107&lt;/li&gt;
&lt;li&gt;@paolorossig made their first contribution in https://github.com/medusajs/medusa/pull/11564&lt;/li&gt;
&lt;li&gt;@peterlgh7 made their first contribution in https://github.com/medusajs/medusa/pull/12083&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Full Changelog&lt;/strong&gt;: https://github.com/medusajs/medusa/compare/v2.6.1...v2.7.0&lt;/p&gt;</content>
    <link href="https://github.com/medusajs/medusa/releases/tag/v2.7.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/medusajs/medusa/releases/tag/v2.7.1</id>
    <title>New release for Medusa: v2.7.1: Strengthened workflow engine, expanded data for fulfillments, and more robust event handling</title>
    <updated>2025-04-23T03:37:46-04:00</updated>
    <author>
      <name>medusajs/medusa</name>
    </author>
    <content>&lt;!-- 
![2 7 1](https://gh-release-images.s3.eu-north-1.amazonaws.com/2.7.1.png)

# v2.7.1: Strengthened workflow engine

This release strengthens the workflow engine by resolving issues in its core foundation and improves fulfillment capabilities by expanding the data passed to providers.

CMS_BREAK --&gt;

&lt;h2&gt;Highlights&lt;/h2&gt;
&lt;h3&gt;Expanded fulfillment data&lt;/h3&gt;
&lt;p&gt;This release extends fulfillment capabilities by exposing more core order data to fulfillment providers–that is, data passed upon creating fulfillments in Medusa.&lt;/p&gt;
&lt;p&gt;The additional data included on orders passed to providers are:
- &lt;code&gt;display_id&lt;/code&gt;
- &lt;code&gt;region&lt;/code&gt;
- &lt;code&gt;customer_id&lt;/code&gt;
- &lt;code&gt;customer&lt;/code&gt;
- &lt;code&gt;sales_channel_id&lt;/code&gt;
- &lt;code&gt;sales_channel&lt;/code&gt;
- &lt;code&gt;items.variant.upc&lt;/code&gt;
- &lt;code&gt;items.variant.sku&lt;/code&gt;
- &lt;code&gt;items.variant.barcode&lt;/code&gt;
- &lt;code&gt;items.variant.hs_code&lt;/code&gt;
- &lt;code&gt;items.variant.origin_country&lt;/code&gt;
- &lt;code&gt;items.variant.product.origin_country&lt;/code&gt;
- &lt;code&gt;items.variant.product.hs_code&lt;/code&gt;
- &lt;code&gt;items.variant.product.mid_code&lt;/code&gt;
- &lt;code&gt;items.variant.product.material&lt;/code&gt;
- &lt;code&gt;items.tax_lines.rate&lt;/code&gt;
- &lt;code&gt;subtotal&lt;/code&gt;
- &lt;code&gt;discount_total&lt;/code&gt;
- &lt;code&gt;tax_total&lt;/code&gt;
- &lt;code&gt;item_total&lt;/code&gt;
- &lt;code&gt;shipping_total&lt;/code&gt;
- &lt;code&gt;total&lt;/code&gt;
- &lt;code&gt;created_at&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;Strengthened workflow engine&lt;/h3&gt;
&lt;p&gt;We have improved the core internals of our workflow engine, including fixing an issue with events grouping not working correctly for async workflows.&lt;/p&gt;
&lt;p&gt;Read more in the PRs below:
- https://github.com/medusajs/medusa/pull/12157
- https://github.com/medusajs/medusa/pull/12027
- https://github.com/medusajs/medusa/pull/12196
- https://github.com/medusajs/medusa/pull/12178&lt;/p&gt;
&lt;h2&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;feat(core-flows, js-sdk, medusa): draft order shipping removal by @fPolic in https://github.com/medusajs/medusa/pull/12124&lt;/li&gt;
&lt;li&gt;feat: Add support for dynamoDB for storing sessions and some types cleanup by @thetutlage in https://github.com/medusajs/medusa/pull/12140&lt;/li&gt;
&lt;li&gt;feat(orchestration): skip on permanent failure by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/12027&lt;/li&gt;
&lt;li&gt;feat: Add support for uploading a file directly to the file provider from the client by @sradevski in https://github.com/medusajs/medusa/pull/12224&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Bugs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;fix(dashboard): display null sku by @fPolic in https://github.com/medusajs/medusa/pull/12155&lt;/li&gt;
&lt;li&gt;fix(types): fix type of application_method_type filter by @shahednasser in https://github.com/medusajs/medusa/pull/12160&lt;/li&gt;
&lt;li&gt;fix(core-flows): draft order reservations by @fPolic in https://github.com/medusajs/medusa/pull/12115&lt;/li&gt;
&lt;li&gt;fix(index): Default schema typings by @adrien2p in https://github.com/medusajs/medusa/pull/12183&lt;/li&gt;
&lt;li&gt;fix(): Event group id propagation and event managements by @adrien2p in https://github.com/medusajs/medusa/pull/12157&lt;/li&gt;
&lt;li&gt;fix(payment): properly delete refund by @fPolic in https://github.com/medusajs/medusa/pull/12193&lt;/li&gt;
&lt;li&gt;fix: apply additional data validator using a global middleware by @thetutlage in https://github.com/medusajs/medusa/pull/12194&lt;/li&gt;
&lt;li&gt;fix(dashboard): properly register settings custom routes by @fPolic in https://github.com/medusajs/medusa/pull/12198&lt;/li&gt;
&lt;li&gt;fix(): Properly handle workflow as step now that events are fixed entirely by @adrien2p in https://github.com/medusajs/medusa/pull/12196&lt;/li&gt;
&lt;li&gt;fix(core-flows): export registerOrderDeliveryStep by @shahednasser in https://github.com/medusajs/medusa/pull/12221&lt;/li&gt;
&lt;li&gt;fix: expose beforeRefreshingPaymentCollection hook by @thetutlage in https://github.com/medusajs/medusa/pull/12232&lt;/li&gt;
&lt;li&gt;fix(medusa): sales_channel_id middleware manipulation leading to lost  of the sc by @adrien2p in https://github.com/medusajs/medusa/pull/12234&lt;/li&gt;
&lt;li&gt;fix: steps to return undefined and still chain the config method by @thetutlage in https://github.com/medusajs/medusa/pull/12255&lt;/li&gt;
&lt;li&gt;fix(core-flows, link-modules): return fulfillment creation by @fPolic in https://github.com/medusajs/medusa/pull/12227&lt;/li&gt;
&lt;li&gt;fix: oas CLI to convert Windows paths to unix by @thetutlage in https://github.com/medusajs/medusa/pull/12254&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Documentation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;docs: changes for next release by @shahednasser in https://github.com/medusajs/medusa/pull/12098&lt;/li&gt;
&lt;li&gt;docs: fix schema of product category by @shahednasser in https://github.com/medusajs/medusa/pull/12145&lt;/li&gt;
&lt;li&gt;Update page.mdx by @Sai-Santhan-Dodda in https://github.com/medusajs/medusa/pull/12141&lt;/li&gt;
&lt;li&gt;docs: fixed POST request in code snippet for quotation acceptance by @valerioXplo in https://github.com/medusajs/medusa/pull/11983&lt;/li&gt;
&lt;li&gt;docs: more updates after 2.7.0 update by @shahednasser in https://github.com/medusajs/medusa/pull/12156&lt;/li&gt;
&lt;li&gt;docs: generate OAS manually for 2.7.0 by @shahednasser in https://github.com/medusajs/medusa/pull/12158&lt;/li&gt;
&lt;li&gt;docs: generate JS SDK reference with fixes by @shahednasser in https://github.com/medusajs/medusa/pull/12161&lt;/li&gt;
&lt;li&gt;docs(resources): fix express checkout page for missing prop in CartContext Provider component by @relaxedrohan in https://github.com/medusajs/medusa/pull/12188&lt;/li&gt;
&lt;li&gt;docs: changes to plugins page by @shahednasser in https://github.com/medusajs/medusa/pull/12190&lt;/li&gt;
&lt;li&gt;docs: add loyalty points guide by @shahednasser in https://github.com/medusajs/medusa/pull/12130&lt;/li&gt;
&lt;li&gt;docs: add a note to loyalty points guide by @shahednasser in https://github.com/medusajs/medusa/pull/12201&lt;/li&gt;
&lt;li&gt;docs: hide colon when a note's title has a punctuation by @shahednasser in https://github.com/medusajs/medusa/pull/12205&lt;/li&gt;
&lt;li&gt;docs: add framework page by @shahednasser in https://github.com/medusajs/medusa/pull/12162&lt;/li&gt;
&lt;li&gt;docs: add framework to navbar by @shahednasser in https://github.com/medusajs/medusa/pull/12206&lt;/li&gt;
&lt;li&gt;docs: capitalize use of Framework across docs by @shahednasser in https://github.com/medusajs/medusa/pull/12207&lt;/li&gt;
&lt;li&gt;docs: update introduction and homepage following Framework changes by @shahednasser in https://github.com/medusajs/medusa/pull/12211&lt;/li&gt;
&lt;li&gt;docs: rename Architectural Modules to Infrastructure Modules by @shahednasser in https://github.com/medusajs/medusa/pull/12212&lt;/li&gt;
&lt;li&gt;docs: add new troubleshooting guides for Query and middlewares by @shahednasser in https://github.com/medusajs/medusa/pull/12214&lt;/li&gt;
&lt;li&gt;docs: document conditional shipping option prices + expand on price rules by @shahednasser in https://github.com/medusajs/medusa/pull/12217&lt;/li&gt;
&lt;li&gt;docs: fix links in submenu navigation by @shahednasser in https://github.com/medusajs/medusa/pull/12220&lt;/li&gt;
&lt;li&gt;docs: expand on promotion rules by @shahednasser in https://github.com/medusajs/medusa/pull/12218&lt;/li&gt;
&lt;li&gt;docs-util: fix examples in workflow reference that have multiple code by @shahednasser in https://github.com/medusajs/medusa/pull/12223&lt;/li&gt;
&lt;li&gt;docs: fix step name in long-running workflow documentation by @Vallabh-Mahanta in https://github.com/medusajs/medusa/pull/12215&lt;/li&gt;
&lt;li&gt;docs: updates to link to other modules docs by @shahednasser in https://github.com/medusajs/medusa/pull/12225&lt;/li&gt;
&lt;li&gt;docs: add some redirects from v1 to v2 docs by @shahednasser in https://github.com/medusajs/medusa/pull/12229&lt;/li&gt;
&lt;li&gt;dos: add docs on overriding allowed fields in routes by @shahednasser in https://github.com/medusajs/medusa/pull/12233&lt;/li&gt;
&lt;li&gt;docs: add LLM dropdown menu to documentation pages by @shahednasser in https://github.com/medusajs/medusa/pull/12235&lt;/li&gt;
&lt;li&gt;docs: fix redirect infrastructure modules by @shahednasser in https://github.com/medusajs/medusa/pull/12238&lt;/li&gt;
&lt;li&gt;docs: improvements to admin, query, and read-only link docs by @shahednasser in https://github.com/medusajs/medusa/pull/12239&lt;/li&gt;
&lt;li&gt;docs: fix index.html.md causing 404 by @shahednasser in https://github.com/medusajs/medusa/pull/12241&lt;/li&gt;
&lt;li&gt;docs: fix revalidate cache guide by @shahednasser in https://github.com/medusajs/medusa/pull/12243&lt;/li&gt;
&lt;li&gt;docs: Fix typo "documenation" in env vars page.mdx by @Ezequiel-Schejtman in https://github.com/medusajs/medusa/pull/12247&lt;/li&gt;
&lt;li&gt;docs: fix messy layout bug by @shahednasser in https://github.com/medusajs/medusa/pull/12248&lt;/li&gt;
&lt;li&gt;docs: Replace api_key_id with publishable_key_id by @Wcdaren in https://github.com/medusajs/medusa/pull/12242&lt;/li&gt;
&lt;li&gt;docs: added a section on loader execution by @shahednasser in https://github.com/medusajs/medusa/pull/12260&lt;/li&gt;
&lt;li&gt;docs: fix no lines code block example by @shahednasser in https://github.com/medusajs/medusa/pull/12259&lt;/li&gt;
&lt;li&gt;docs: fix badges and titles not showing in code tabs by @shahednasser in https://github.com/medusajs/medusa/pull/12261&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Chores&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;chore(utils): fix TSDoc example for payment provider by @ynzier in https://github.com/medusajs/medusa/pull/12012&lt;/li&gt;
&lt;li&gt;chore: fixes to JS SDK TSDocs by @shahednasser in https://github.com/medusajs/medusa/pull/12159&lt;/li&gt;
&lt;li&gt;chore(core-flows,types): fix links in TSDocs pointing to architectural modules by @shahednasser in https://github.com/medusajs/medusa/pull/12213&lt;/li&gt;
&lt;li&gt;chore: fixes and updates to promotion and shipping option TSDocs by @shahednasser in https://github.com/medusajs/medusa/pull/12222&lt;/li&gt;
&lt;li&gt;chore: Pass more data to fulfillment provider by @olivermrbl in https://github.com/medusajs/medusa/pull/12186&lt;/li&gt;
&lt;li&gt;Chore/orchestration storage improvements by @adrien2p in https://github.com/medusajs/medusa/pull/12178&lt;/li&gt;
&lt;li&gt;chore(types): small tsdoc change to file service by @shahednasser in https://github.com/medusajs/medusa/pull/12240&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Other Changes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;added dutch translation by @harmvdhorst in https://github.com/medusajs/medusa/pull/12167&lt;/li&gt;
&lt;li&gt;added hungarian admin translation by @GergoVandor in https://github.com/medusajs/medusa/pull/12176&lt;/li&gt;
&lt;li&gt;fix: Ensure shipment includes tracking numbers from fulfillment by @ionutgaina in https://github.com/medusajs/medusa/pull/11775&lt;/li&gt;
&lt;li&gt;feat(cart): emit updated event in update line item workflow by @bqst in https://github.com/medusajs/medusa/pull/12119&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;New Contributors&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;@ynzier made their first contribution in https://github.com/medusajs/medusa/pull/12012&lt;/li&gt;
&lt;li&gt;@valerioXplo made their first contribution in https://github.com/medusajs/medusa/pull/11983&lt;/li&gt;
&lt;li&gt;@harmvdhorst made their first contribution in https://github.com/medusajs/medusa/pull/12167&lt;/li&gt;
&lt;li&gt;@GergoVandor made their first contribution in https://github.com/medusajs/medusa/pull/12176&lt;/li&gt;
&lt;li&gt;@relaxedrohan made their first contribution in https://github.com/medusajs/medusa/pull/12188&lt;/li&gt;
&lt;li&gt;@ionutgaina made their first contribution in https://github.com/medusajs/medusa/pull/11775&lt;/li&gt;
&lt;li&gt;@Vallabh-Mahanta made their first contribution in https://github.com/medusajs/medusa/pull/12215&lt;/li&gt;
&lt;li&gt;@Ezequiel-Schejtman made their first contribution in https://github.com/medusajs/medusa/pull/12247&lt;/li&gt;
&lt;li&gt;@Wcdaren made their first contribution in https://github.com/medusajs/medusa/pull/12242&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Full Changelog&lt;/strong&gt;: https://github.com/medusajs/medusa/compare/v2.7.0...v2.7.1&lt;/p&gt;</content>
    <link href="https://github.com/medusajs/medusa/releases/tag/v2.7.1" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/medusajs/medusa/releases/tag/v2.8.0</id>
    <title>New release for Medusa: v2.8.0</title>
    <updated>2025-05-13T07:10:07-04:00</updated>
    <author>
      <name>medusajs/medusa</name>
    </author>
    <content>&lt;!-- 
![2-8-0](https://gh-release-images.s3.eu-north-1.amazonaws.com/v2.8.0.png)

# v2.8.0: More robust cart-completion, cross-module filtering, and Tax Providers

This release improves the robustness of the cart-completion workflow, enables cross-module filtering via a new module, and introduces full support for custom Tax Providers.

CMS_BREAK --&gt;

&lt;h2&gt;Highlights&lt;/h2&gt;
&lt;h3&gt;Important: This release introduced a regression with product updates&lt;/h3&gt;
&lt;p&gt;We unintentionally introduced a regression that affected the ordering of products returned from the product module service. This broke workflows (e.g. updateProductsWorkflow) that rely on consistent ordering for subsequent operations such as applying price updates. &lt;/p&gt;
&lt;p&gt;Upgrade to v2.8.1 as soon as possible to avoid any issues related to this change.&lt;/p&gt;
&lt;h3&gt;Cart-completion robustness&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!WARNING]&lt;br /&gt;
Breaking changes&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This release introduces important changes to the &lt;code&gt;completeCartWorkflow&lt;/code&gt; aimed at improving robustness and making it easier to recover from failures. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Changes to idempotency&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Until now, the workflow has had the following configuration:
&lt;code&gt;ts
{
  name: completeCartWorkflowId
  store: true,
  idempotent: true,
  retentionTime: THREE_DAYS,
}&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Here's a brief description of what these properties do, excluding &lt;code&gt;name&lt;/code&gt;:
- &lt;code&gt;store&lt;/code&gt;: Store the workflow execution. If no retention time is specified, the workflow is only stored for the duration of its execution
- &lt;code&gt;idempotent&lt;/code&gt;: Store the result of the &lt;em&gt;first&lt;/em&gt; workflow execution and return it on subsequent runs
- &lt;code&gt;retentionTime&lt;/code&gt;: Store the result in the configured data store for "x" amount of time–here, three days&lt;/p&gt;
&lt;p&gt;In this release, we change the &lt;code&gt;idempotent&lt;/code&gt; flag from true to false. Initially, the idea of having an idempotent cart-completion stemmed from wanting to ensure that multiple requests to complete the same cart would lead to the same outcome. This is, in of itself, still reasonable to ensure there is only ever one attempt to complete the same cart. However, in case of failures, the idempotent mechanism makes it challenging to recover, since a new cart with the same details is required to re-attempt the completion. This is because the result of the failing workflow is stored and returned on all subsequent runs, regardless of whether the cart is updated to satisfy the constraints for completion.&lt;/p&gt;
&lt;p&gt;With &lt;code&gt;idempotent&lt;/code&gt; set to false, it will be possible to retry failed executions, making it simpler to bring the cart to a satisfying state and eventually create the order.&lt;/p&gt;
&lt;p&gt;It is worth mentioning that concurrency continues to be appropriately managed by passing the cart ID as the &lt;code&gt;transactionId&lt;/code&gt; when running the workflow. The transaction ID ensures that only one workflow execution can run at a time.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Changes to the structure&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The workflow has been slightly restructured to minimize the risk of payment sessions getting stuck in a state that is difficult to recover from. More specifically, the payment authorization step has been moved to the very end of the workflow, so that all first-party checks are performed before we authorize the payment. &lt;/p&gt;
&lt;p&gt;To understand why this is important, we need to cover the &lt;code&gt;compensateIfNeeded&lt;/code&gt; step of the workflow briefly. This step compensates active payment sessions in the case of failure to avoid orphaned third-party payments and recreates the Medusa payment session so that new payment details can be attached.&lt;/p&gt;
&lt;p&gt;For example, suppose the payment authorization is performed off-band (e.g., in a webhook), and the cart-completion workflow fails to execute. In that case, the step will void the third-party payment and bring the cart to a correct state, all while ensuring consistency between the two systems. &lt;/p&gt;
&lt;p&gt;Moving the payment authorization step to the end of the workflow ensures that we only create an authorized payment if all other cart constraints are satisfied. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Changes to the webhook handler&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The webhook handler ensures consistency between Medusa and the third-party payment provider. More specifically, it will handle the following scenarios:
- Payment authorization: when we receive a payment authorization event, we will attempt to authorize and create a payment in Medusa
- Payment capture: when we receive a payment capture event, we will attempt to capture the associated payment in Medusa
- Cart-completion: when we receive a payment authorization event, we will attempt to complete the cart
- Payment authorization and capture: when we receive a payment capture event and there is no existing payment in Medusa, we will attempt to authorize, create, and capture a payment in Medusa&lt;/p&gt;
&lt;p&gt;We have only handled the first three scenarios until now. This release introduces functionality for the fourth, a more unusual scenario involving auto-captures in the third-party payment provider.&lt;/p&gt;
&lt;h3&gt;Line item generation&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;[!WARNING]&lt;br /&gt;
Breaking changes&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This release changes the source of line item titles and subtitles. The title has changed from the variant title to the product title, and the subtitle has changed from the product title to the variant title.&lt;/p&gt;
&lt;h3&gt;Cross-module filters (experimental)&lt;/h3&gt;
&lt;p&gt;This release introduces experimental support for cross-module filters via a new module, &lt;code&gt;@medusajs/index&lt;/code&gt;. &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Please remember that this module is experimental and in development, so please use it cautiously. It is subject to change as we finalize the design to enable cross-module filtering. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We will keep the description brief since the module is still in development. Here's what you need to know:
- Medusa's architecture is divided into a range of modules, each being isolated (at the data model level) from one another. By default, the modules share the same database, but the architecture is built to support external data sources, in case your module needs a different type of database, or you want to use a third-party service in place of Medusa's core module
- Consequently, queries to retrieve data are performed per module, and the data is aggregated in the end to create the result set
- Our new index module allows you to ingest data into a central, relational-like structure
- The structure enables efficient filtering over data coming from different data sources (provided it is ingested)&lt;/p&gt;
&lt;p&gt;The index module can be enabled by installing the module:
&lt;code&gt;yarn add @medusajs/index&lt;/code&gt;
Adding it to your Medusa config:
&lt;code&gt;{
  // ...rest of config
  modules: [{ resolve: "@medusajs/index", options: {} }]
}&lt;/code&gt;
And finally, adding a feature flag to enable it:
&lt;code&gt;// .env
MEDUSA_FF_INDEX_ENGINE=true&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Then, apply the migrations to create the related tables:
&lt;code&gt;npx medusa db:migrate&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The next time you start your server, we will ingest data into the index engine. &lt;/p&gt;
&lt;p&gt;In this first iteration, we only ingest the following core entities:
- Products
- Product Variants
- Prices
- Sales Channels&lt;/p&gt;
&lt;p&gt;The data in the index is queried through a new API with semantics identical to the existing query graph:
&lt;code&gt;ts
  const { data: products = [], metadata } = await query.index({
    entity: "product",
    fields: ["id", "name"],
  });&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;In addition to ingesting a few select resources from the core, we have added support for ingesting data from custom modules through link definitions. For example, say you want to introduce a Brand on Products and filter your Products by it.&lt;/p&gt;
&lt;p&gt;Assuming you have added a Brand module, you create a link as follows:
```ts
import { defineLink } from "@medusajs/framework/utils";
import ProductModule from "@medusajs/medusa/product";
import BrandModule from "../modules/brand";&lt;/p&gt;
&lt;p&gt;export default defineLink(
  {
    linkable: ProductModule.linkable.product,
    isList: true,
  },
  {
    linkable: BrandModule.linkable.brand,
  }
);
```&lt;/p&gt;
&lt;p&gt;This link will associate the two data models and allow you to query them from both sides of the link. &lt;/p&gt;
&lt;p&gt;Furthermore, to ingest the Brand into the index and make the data filterable, you need to add the new &lt;code&gt;filterable&lt;/code&gt; property to the link:
```ts
import { defineLink } from "@medusajs/framework/utils";
import ProductModule from "@medusajs/medusa/product";
import BrandModule from "../modules/brand";&lt;/p&gt;
&lt;p&gt;export default defineLink(
  {
    linkable: ProductModule.linkable.product,
    isList: true,
  },
  {
    linkable: BrandModule.linkable.brand,
    filterable: ["id", "name"]
  }
);
```&lt;/p&gt;
&lt;p&gt;The link above specifies that Brands should be ingested into the index and made filterable via the properties &lt;code&gt;id&lt;/code&gt; and &lt;code&gt;title&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;As a result, you can now filter Products by Brands ID or title like so:
&lt;code&gt;ts
  const { data: products = [], metadata } = await query.index({
    entity: "product",
    fields: ["id", "title", "brand.*"],
    filters: {
      brand: {
        name: "Hermes"
      }
    },
  });&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;An important trade-off in the index module&lt;/strong&gt; is the need to avoid the performance cost of &lt;code&gt;COUNT(*)&lt;/code&gt; queries, which can be an incredibly high cost for very large data sets. Instead, we use Postgres’ internal query planner to compute an estimated count of the result set. For very small data sets, this estimate can be very inaccurate, but for larger ones it should provide a reasonable estimate. The trade-off allows us to achieve very fast response times making it ideal for user-facing search and browsing experiences. As noted earlier, the tool is still experimental, and we plan to continue iterating and improving it over time.&lt;/p&gt;
&lt;h3&gt;Custom Tax Providers&lt;/h3&gt;
&lt;p&gt;This release introduces full support for custom Tax Providers by making these key changes:
- Load custom Tax Providers in the Tax Module
- Manage (create, update) provider per Tax Region in the admin dashboard
- Migrate all Tax Regions to use a tax provider&lt;/p&gt;
&lt;p&gt;The migration script will run the first time you start the server after upgrading. It will assign the default system provider to the Tax Region, if the region did not have a custom provider specified already.&lt;/p&gt;
&lt;h2&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;feat: upgrade opentelemetry packages to support the latest release by @thetutlage in https://github.com/medusajs/medusa/pull/12266&lt;/li&gt;
&lt;li&gt;feat(index): add filterable fields to link definition by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/11898&lt;/li&gt;
&lt;li&gt;feat: add needed methods to the file module and providers by @thetutlage in https://github.com/medusajs/medusa/pull/12325&lt;/li&gt;
&lt;li&gt;feat(core-flows, utils): add OrderEdit events by @fPolic in https://github.com/medusajs/medusa/pull/12320&lt;/li&gt;
&lt;li&gt;feat: implement direct upload by @thetutlage in https://github.com/medusajs/medusa/pull/12328&lt;/li&gt;
&lt;li&gt;feat(dashboard, js-sdk, medusa, tax, types): custom tax providers by @fPolic in https://github.com/medusajs/medusa/pull/12297&lt;/li&gt;
&lt;li&gt;feat(product): search variants by product properties by @fPolic in https://github.com/medusajs/medusa/pull/12391&lt;/li&gt;
&lt;li&gt;fix(workflow-engine-*): q text search by @adrien2p in https://github.com/medusajs/medusa/pull/12435&lt;/li&gt;
&lt;li&gt;feat(core-flows): Emit cart trasnferred customer by @adrien2p in https://github.com/medusajs/medusa/pull/12425&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Bugs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;fix(medusa): Fix store return API by @riqwan in https://github.com/medusajs/medusa/pull/12284&lt;/li&gt;
&lt;li&gt;fix(core-flows): handle inventory kit items in mark-as-shipped/delivered flows by @fPolic in https://github.com/medusajs/medusa/pull/12269&lt;/li&gt;
&lt;li&gt;fix(design-system): filter/sorting menu error by @fPolic in https://github.com/medusajs/medusa/pull/12309&lt;/li&gt;
&lt;li&gt;fix(core-flows): add missing remove remote link by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/12326&lt;/li&gt;
&lt;li&gt;fix(core-flows,utils): move fulfillment workflow events by @shahednasser in https://github.com/medusajs/medusa/pull/12338&lt;/li&gt;
&lt;li&gt;fix: batch updates in upsertMany_ by @peterlgh7 in https://github.com/medusajs/medusa/pull/12333&lt;/li&gt;
&lt;li&gt;fix: export ProductImage to allow for custom links to add alt text by @thetutlage in https://github.com/medusajs/medusa/pull/12357&lt;/li&gt;
&lt;li&gt;fix(product): Return updated collections by @olivermrbl in https://github.com/medusajs/medusa/pull/12354&lt;/li&gt;
&lt;li&gt;fix(create-medusa-app): updates to text and prompts by @shahednasser in https://github.com/medusajs/medusa/pull/12360&lt;/li&gt;
&lt;li&gt;fix(medusa): Support additional data on admin/collections by @olivermrbl in https://github.com/medusajs/medusa/pull/12345&lt;/li&gt;
&lt;li&gt;fix(core-flows): export order-related utility workflows by @shahednasser in https://github.com/medusajs/medusa/pull/12380&lt;/li&gt;
&lt;li&gt;fix(medusa): check if tax module is installed when running tax migration script by @fPolic in https://github.com/medusajs/medusa/pull/12393&lt;/li&gt;
&lt;li&gt;fix: Use logger in the test runner and migration commands by @sradevski in https://github.com/medusajs/medusa/pull/12406&lt;/li&gt;
&lt;li&gt;fix: refactor batch product update by @peterlgh7 in https://github.com/medusajs/medusa/pull/12367&lt;/li&gt;
&lt;li&gt;fix(dashboard): tax regions UI polish by @fPolic in https://github.com/medusajs/medusa/pull/12437&lt;/li&gt;
&lt;li&gt;fix(core-flows): use product title for line item title by @fPolic in https://github.com/medusajs/medusa/pull/12397&lt;/li&gt;
&lt;li&gt;fix(dashboard): inventory kit combobox state by @fPolic in https://github.com/medusajs/medusa/pull/12371&lt;/li&gt;
&lt;li&gt;fix(core-flows): use transform as input to account holder step by @riqwan in https://github.com/medusajs/medusa/pull/12430&lt;/li&gt;
&lt;li&gt;fix(dashboard): call route modal onClose only on route change by @fPolic in https://github.com/medusajs/medusa/pull/12383&lt;/li&gt;
&lt;li&gt;fix(core-flows): Refund and recreate payment session on cart complete failure by @fPolic in https://github.com/medusajs/medusa/pull/12263&lt;/li&gt;
&lt;li&gt;fix(tax): Make system provider registration backward compatible by @olivermrbl in https://github.com/medusajs/medusa/pull/12441&lt;/li&gt;
&lt;li&gt;fix(dashboard, medusa): validate provider for top level tax regions by @fPolic in https://github.com/medusajs/medusa/pull/12450&lt;/li&gt;
&lt;li&gt;fix(core-flows, dashboard): reservation recreation on fulfilment cancel + allocation button display by @fPolic in https://github.com/medusajs/medusa/pull/12447&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Documentation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;docs: fix reference of draft orders JS SDK methods by @shahednasser in https://github.com/medusajs/medusa/pull/12271&lt;/li&gt;
&lt;li&gt;docs: fix core flows reference not generating by @shahednasser in https://github.com/medusajs/medusa/pull/12274&lt;/li&gt;
&lt;li&gt;docs: regenerate core-flows reference + OAS for draft order updates by @shahednasser in https://github.com/medusajs/medusa/pull/12280&lt;/li&gt;
&lt;li&gt;docs: clarify ISO format for province codes by @shahednasser in https://github.com/medusajs/medusa/pull/12282&lt;/li&gt;
&lt;li&gt;docs: add note to s3 guide by @shahednasser in https://github.com/medusajs/medusa/pull/12289&lt;/li&gt;
&lt;li&gt;docs: improve documetation around error handling in workflows by @shahednasser in https://github.com/medusajs/medusa/pull/12288&lt;/li&gt;
&lt;li&gt;docs: added mark fulfillment delivered step in digital products recipe by @shahednasser in https://github.com/medusajs/medusa/pull/12290&lt;/li&gt;
&lt;li&gt;docs-util: enable internal resolve for workflows sdk reference by @shahednasser in https://github.com/medusajs/medusa/pull/12292&lt;/li&gt;
&lt;li&gt;docs: improve resend guide by @shahednasser in https://github.com/medusajs/medusa/pull/12293&lt;/li&gt;
&lt;li&gt;Update 6.3. Using TypeScript Aliases - Alias should run after build, not before by @AlexanderLindkjaer in https://github.com/medusajs/medusa/pull/12272&lt;/li&gt;
&lt;li&gt;docs: general improvements and additions by @shahednasser in https://github.com/medusajs/medusa/pull/12296&lt;/li&gt;
&lt;li&gt;docs: fix troubleshooting page by @shahednasser in https://github.com/medusajs/medusa/pull/12305&lt;/li&gt;
&lt;li&gt;docs-util: add sidebar link validation in prep script by @shahednasser in https://github.com/medusajs/medusa/pull/12306&lt;/li&gt;
&lt;li&gt;docs: fix module name in product review guide by @shahednasser in https://github.com/medusajs/medusa/pull/12310&lt;/li&gt;
&lt;li&gt;docs(algolia): rename instructed filename to fit code-block and preserve naming conflict instructions by @MentorFilou in https://github.com/medusajs/medusa/pull/12300&lt;/li&gt;
&lt;li&gt;docs: improve installation documentation with diagrams by @shahednasser in https://github.com/medusajs/medusa/pull/12312&lt;/li&gt;
&lt;li&gt;docs: fix incorrect note usage in some workflow references by @shahednasser in https://github.com/medusajs/medusa/pull/12317&lt;/li&gt;
&lt;li&gt;docs: fix missing quotation mark in marketplace vendor tutorial curl request by @Obad94 in https://github.com/medusajs/medusa/pull/12315&lt;/li&gt;
&lt;li&gt;docs: localization with contentful guide by @shahednasser in https://github.com/medusajs/medusa/pull/12202&lt;/li&gt;
&lt;li&gt;docs-util: fix hook examples not showing in generated references by @shahednasser in https://github.com/medusajs/medusa/pull/12334&lt;/li&gt;
&lt;li&gt;docs: fix TypeScript errors in marketplace vendor tutorial by @Obad94 in https://github.com/medusajs/medusa/pull/12302&lt;/li&gt;
&lt;li&gt;docs-util: support deprecated tag in OAS by @shahednasser in https://github.com/medusajs/medusa/pull/12339&lt;/li&gt;
&lt;li&gt;docs-util: add script to generate events info by @shahednasser in https://github.com/medusajs/medusa/pull/12340&lt;/li&gt;
&lt;li&gt;docs: generate events reference by @shahednasser in https://github.com/medusajs/medusa/pull/12341&lt;/li&gt;
&lt;li&gt;docs: fix redirect on infrastructural modules by @shahednasser in https://github.com/medusajs/medusa/pull/12358&lt;/li&gt;
&lt;li&gt;docs: fix local links in UI docs by @shahednasser in https://github.com/medusajs/medusa/pull/12359&lt;/li&gt;
&lt;li&gt;docs: add script to catch bad redirects by @shahednasser in https://github.com/medusajs/medusa/pull/12361&lt;/li&gt;
&lt;li&gt;docs: add troubleshooting for index.html error by @shahednasser in https://github.com/medusajs/medusa/pull/12365&lt;/li&gt;
&lt;li&gt;docs: add missing details for tiered pricing by @shahednasser in https://github.com/medusajs/medusa/pull/12374&lt;/li&gt;
&lt;li&gt;docs-util: add events to workflows reference by @shahednasser in https://github.com/medusajs/medusa/pull/12376&lt;/li&gt;
&lt;li&gt;docs: generate event references by @shahednasser in https://github.com/medusajs/medusa/pull/12378&lt;/li&gt;
&lt;li&gt;docs-util: fix hook parameters not showing when using workflow input by @shahednasser in https://github.com/medusajs/medusa/pull/12382&lt;/li&gt;
&lt;li&gt;docs: fixes to navbar and sidebar in mobile by @shahednasser in https://github.com/medusajs/medusa/pull/12379&lt;/li&gt;
&lt;li&gt;docs: update import user guide text + add diagram in brand module guide by @shahednasser in https://github.com/medusajs/medusa/pull/12385&lt;/li&gt;
&lt;li&gt;docs-util: add events to generated OAS by @shahednasser in https://github.com/medusajs/medusa/pull/12390&lt;/li&gt;
&lt;li&gt;docs: show events emitted in an API route in the API reference by @shahednasser in https://github.com/medusajs/medusa/pull/12392&lt;/li&gt;
&lt;li&gt;docs: generate OAS with events by @shahednasser in https://github.com/medusajs/medusa/pull/12394&lt;/li&gt;
&lt;li&gt;docs: added bundled products guide by @shahednasser in https://github.com/medusajs/medusa/pull/12332&lt;/li&gt;
&lt;li&gt;docs: add copy subscriber button by @shahednasser in https://github.com/medusajs/medusa/pull/12405&lt;/li&gt;
&lt;li&gt;docs: generate references after adding copy subscriber button by @shahednasser in https://github.com/medusajs/medusa/pull/12407&lt;/li&gt;
&lt;li&gt;docs: add support for keywords in references by @shahednasser in https://github.com/medusajs/medusa/pull/12413&lt;/li&gt;
&lt;li&gt;docs: add class for header wrapper + keywords for payment guide by @shahednasser in https://github.com/medusajs/medusa/pull/12414&lt;/li&gt;
&lt;li&gt;chore: update Medusa UI packages in docs on new release by @shahednasser in https://github.com/medusajs/medusa/pull/12415&lt;/li&gt;
&lt;li&gt;docs: enable and send algolia events by @shahednasser in https://github.com/medusajs/medusa/pull/12416&lt;/li&gt;
&lt;li&gt;docs: updates to middlewares and protected API routes + new chapter by @shahednasser in https://github.com/medusajs/medusa/pull/12419&lt;/li&gt;
&lt;li&gt;docs: support version in events reference by @shahednasser in https://github.com/medusajs/medusa/pull/12422&lt;/li&gt;
&lt;li&gt;docs-util: add note for providers by @shahednasser in https://github.com/medusajs/medusa/pull/12432&lt;/li&gt;
&lt;li&gt;docs: support showing version of API route in API reference by @shahednasser in https://github.com/medusajs/medusa/pull/12433&lt;/li&gt;
&lt;li&gt;docs: fix keyboard navigation in search by @shahednasser in https://github.com/medusajs/medusa/pull/12434&lt;/li&gt;
&lt;li&gt;docs: support deprecated in API reference by @shahednasser in https://github.com/medusajs/medusa/pull/12438&lt;/li&gt;
&lt;li&gt;docs-util: fix dependencies passed to auth providers by @shahednasser in https://github.com/medusajs/medusa/pull/12445&lt;/li&gt;
&lt;li&gt;Update page.mdx to correct "th" to "the" by @dsvwilson in https://github.com/medusajs/medusa/pull/12446&lt;/li&gt;
&lt;li&gt;docs: added saved payment methods with Stripe tutorial by @shahednasser in https://github.com/medusajs/medusa/pull/12257&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Chores&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;chore(js-sdk): fix TSDocs of draft orders in JS SDK by @shahednasser in https://github.com/medusajs/medusa/pull/12270&lt;/li&gt;
&lt;li&gt;chore(core-flows, types): add tsdocs for draft orders workflows by @shahednasser in https://github.com/medusajs/medusa/pull/12279&lt;/li&gt;
&lt;li&gt;chore(types): claify province code format in TSDocs by @shahednasser in https://github.com/medusajs/medusa/pull/12283&lt;/li&gt;
&lt;li&gt;chore(core-flows): fix note usage in TSDocs by @shahednasser in https://github.com/medusajs/medusa/pull/12318&lt;/li&gt;
&lt;li&gt;chore: add tsdocs for events by @shahednasser in https://github.com/medusajs/medusa/pull/12337&lt;/li&gt;
&lt;li&gt;chore(utils): fixes to events TSDocs by @shahednasser in https://github.com/medusajs/medusa/pull/12342&lt;/li&gt;
&lt;li&gt;chore(types): add note in TSDocs of list and retrieve methods by @shahednasser in https://github.com/medusajs/medusa/pull/12364&lt;/li&gt;
&lt;li&gt;feat(workflows-*): Allow to re run non idempotent but stored workflow with the same transaction id if considered done by @adrien2p in https://github.com/medusajs/medusa/pull/12362&lt;/li&gt;
&lt;li&gt;chore(utils): fixes to events TSDocs by @shahednasser in https://github.com/medusajs/medusa/pull/12395&lt;/li&gt;
&lt;li&gt;chore: Minor restructure of cart completion by @olivermrbl in https://github.com/medusajs/medusa/pull/12353&lt;/li&gt;
&lt;li&gt;chore: update generate references action to generate / commit events by @shahednasser in https://github.com/medusajs/medusa/pull/12411&lt;/li&gt;
&lt;li&gt;chore(utils): small fix to payload in TSDocs by @shahednasser in https://github.com/medusajs/medusa/pull/12409&lt;/li&gt;
&lt;li&gt;chore(utils): add version tag to order edit events by @shahednasser in https://github.com/medusajs/medusa/pull/12424&lt;/li&gt;
&lt;li&gt;test(workflow-engine): Ensure failed subscriber does not compensate workflows by @adrien2p in https://github.com/medusajs/medusa/pull/12427&lt;/li&gt;
&lt;li&gt;chore(js-sdk,types,utils): updates to file TSDocs by @shahednasser in https://github.com/medusajs/medusa/pull/12426&lt;/li&gt;
&lt;li&gt;chore(js-sdk, types): update TSDocs related to tax provider changes by @shahednasser in https://github.com/medusajs/medusa/pull/12428&lt;/li&gt;
&lt;li&gt;chore(medusa): add version tag for new routes by @shahednasser in https://github.com/medusajs/medusa/pull/12436&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Other Changes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;docs: improve database operations docs + added data model repository reference by @shahednasser in https://github.com/medusajs/medusa/pull/12273&lt;/li&gt;
&lt;li&gt;feat: internationalize hard-coded strings in product-create-general-section.tsx by @MentorFilou in https://github.com/medusajs/medusa/pull/12264&lt;/li&gt;
&lt;li&gt;test: use jest shards and simplify test-cli-pipeline by @thetutlage in https://github.com/medusajs/medusa/pull/12278&lt;/li&gt;
&lt;li&gt;fix(dashboard): Admin Global Search broken for variants by @AmbroziuBaban in https://github.com/medusajs/medusa/pull/11877&lt;/li&gt;
&lt;li&gt;chore: Update teams.yml by @olivermrbl in https://github.com/medusajs/medusa/pull/12355&lt;/li&gt;
&lt;li&gt;fix: rename Macedonia FYROM to North Macedonia by @edinabazi in https://github.com/medusajs/medusa/pull/12375&lt;/li&gt;
&lt;li&gt;fix: Added missing admin dashboard dependencies by @pepijn-vanvlaanderen in https://github.com/medusajs/medusa/pull/12346&lt;/li&gt;
&lt;li&gt;test(core-flows): Ensure productVariantUpdated failure compensate the workflow by @adrien2p in https://github.com/medusajs/medusa/pull/12381&lt;/li&gt;
&lt;li&gt;fix(plugins, utils): Plugin admin folder loading with backslash on Windows by @Betanoir in https://github.com/medusajs/medusa/pull/12418&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;New Contributors&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;@AlexanderLindkjaer made their first contribution in https://github.com/medusajs/medusa/pull/12272&lt;/li&gt;
&lt;li&gt;@MentorFilou made their first contribution in https://github.com/medusajs/medusa/pull/12264&lt;/li&gt;
&lt;li&gt;@Obad94 made their first contribution in https://github.com/medusajs/medusa/pull/12315&lt;/li&gt;
&lt;li&gt;@edinabazi made their first contribution in https://github.com/medusajs/medusa/pull/12375&lt;/li&gt;
&lt;li&gt;@Betanoir made their first contribution in https://github.com/medusajs/medusa/pull/12418&lt;/li&gt;
&lt;li&gt;@dsvwilson made their first contribution in https://github.com/medusajs/medusa/pull/12446&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Full Changelog&lt;/strong&gt;: https://github.com/medusajs/medusa/compare/v2.7.1...v2.8.0&lt;/p&gt;</content>
    <link href="https://github.com/medusajs/medusa/releases/tag/v2.8.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/medusajs/medusa/releases/tag/v2.8.1</id>
    <title>New release for Medusa: v2.8.1</title>
    <updated>2025-05-15T03:53:19-04:00</updated>
    <author>
      <name>medusajs/medusa</name>
    </author>
    <content>&lt;!-- 
![2-8-1](https://gh-release-images.s3.eu-north-1.amazonaws.com/v2-8-1.png)

# v2.8.1: Fixes regression related to product variant price updates

This release fixes a regression introduced in v2.8.0 related to product ordering in service responses, leading to incorrect pricing updates on products.

CMS_BREAK --&gt;

&lt;h2&gt;Highlights&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Fixes a regression introduced in v2.8.0&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;In v2.8.0, we unintentionally introduced a regression that affected ordering products returned from the product module service. This broke workflows (e.g. &lt;code&gt;updateProductsWorkflow&lt;/code&gt;) that rely on consistent ordering for subsequent operations such as applying price updates. This release brings back the correct ordering behavior and resolves the issue. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;We strongly recommend upgrading to v2.8.1 as soon as possible to avoid incorrect data.&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;feat: create CSV normalizer to normalize a CSV file by @thetutlage in https://github.com/medusajs/medusa/pull/12396&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Bugs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;fix(workflows-sdk): Miss match context usage within run as step by @adrien2p in https://github.com/medusajs/medusa/pull/12449&lt;/li&gt;
&lt;li&gt;fix(index): query builder handle json array by @carlos-r-l-rodrigues in https://github.com/medusajs/medusa/pull/12480&lt;/li&gt;
&lt;li&gt;fix: returned updates order in upsertWithReplace by @peterlgh7 in https://github.com/medusajs/medusa/pull/12486&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Documentation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;docs: tax provider updates for next release by @shahednasser in https://github.com/medusajs/medusa/pull/12431&lt;/li&gt;
&lt;li&gt;docs: update read-only links by @shahednasser in https://github.com/medusajs/medusa/pull/12468&lt;/li&gt;
&lt;li&gt;docs: fix client side error in references by @shahednasser in https://github.com/medusajs/medusa/pull/12475&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Chores&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;chore(types,utils): add featureFlag and version tags by @shahednasser in https://github.com/medusajs/medusa/pull/12464&lt;/li&gt;
&lt;li&gt;Chore/test runner improvements by @adrien2p in https://github.com/medusajs/medusa/pull/12439&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Full Changelog&lt;/strong&gt;: https://github.com/medusajs/medusa/compare/v2.8.0...v2.8.1&lt;/p&gt;</content>
    <link href="https://github.com/medusajs/medusa/releases/tag/v2.8.1" rel="alternate"/>
  </entry>
</feed>
