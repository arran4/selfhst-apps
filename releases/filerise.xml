<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://selfh.st/apps</id>
  <title>FileRise Releases</title>
  <updated>2025-04-24T17:35:55.465548-04:00</updated>
  <author>
    <name>selfh.st</name>
    <email>contact@selfh.st</email>
  </author>
  <link href="https://selfh.st/apps" rel="alternate"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <subtitle>Self-hosted software releases generated by selfh.st</subtitle>
  <entry>
    <id>https://github.com/error311/FileRise/releases/tag/v1.2.0</id>
    <title>New release for FileRise: FileRise v1.2.0</title>
    <updated>2025-04-17T02:47:49-04:00</updated>
    <author>
      <name>error311/FileRise</name>
    </author>
    <content>&lt;p&gt;&lt;strong&gt;Full Changelog&lt;/strong&gt;: https://github.com/error311/FileRise/compare/v1.1.3...v1.2.0&lt;/p&gt;
&lt;h2&gt;Changes 4/16 Refactor API endpoints and modularize controllers and models&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Reorganized project structure to separate API logic into dedicated controllers and models:&lt;/li&gt;
&lt;li&gt;Created adminController, userController, fileController, folderController, uploadController, and authController.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Created corresponding models (AdminModel, UserModel, FileModel, FolderModel, UploadModel, AuthModel) for business logic.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Consolidated API endpoints under the /public/api folder with subfolders for admin, auth, file, folder, and upload endpoints.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Added inline OpenAPI annotations to document key endpoints (e.g., getConfig.php, updateConfig.php) for improved API documentation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Updated configuration retrieval and update logic in AdminModel and AdminController to handle OIDC and login option booleans consistently, fixing issues with basic auth settings not updating on the login page.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Updated the client-side auth.js to correctly reference API endpoints (adjusted query selectors to reflect new document root) and load admin configuration from the updated API endpoints.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Minor improvements to CSRF token handling, error logging, and overall code readability.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This refactor improves maintainability, testability, and documentation clarity across all API endpoints.&lt;/p&gt;
&lt;h3&gt;Refactor fixes and adjustments&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Added fallback checks for disableFormLogin / disableBasicAuth / disableOIDCLogin when coming in either at the top level or under loginOptions.&lt;/li&gt;
&lt;li&gt;Updated auth.js to read and store the nested loginOptions booleans correctly in localStorage, then show/hide the Basic‑Auth and OIDC buttons as configured.&lt;/li&gt;
&lt;li&gt;Changed the logout controller to header("Location: /index.html?logout=1") so after /api/auth/logout.php it lands on the root index.html, not under /api/auth/.&lt;/li&gt;
&lt;li&gt;Switched your share modal code to use a leading slash ("/api/file/share.php") so it generates absolute URLs instead of relative /share.php.&lt;/li&gt;
&lt;li&gt;In the shared‑folder gallery, adjusted the client‑side image path to point at /uploads/... instead of /api/folder/uploads/...&lt;/li&gt;
&lt;li&gt;Updated both AdminModel defaults and the AuthController to use the exact full path&lt;/li&gt;
&lt;li&gt;Network Utilities Overhaul swapped out the old fetch wrapper for one that always reads the raw response, tries to JSON.parse it, and then either returns the parsed object on ok or throws it on error.&lt;/li&gt;
&lt;li&gt;Adjusted your submitLogin .catch() to grab the thrown object (or string) and pass that through to showToast, so now “Invalid credentials” actually shows up.&lt;/li&gt;
&lt;li&gt;Pulled the common session‑setup and “remember me” logic into two new helpers, finalizeLogin() (for AJAX/form/basic/TOTP) and finishBrowserLogin() (for OIDC redirects). That removed tons of duplication and ensures every path calls the same permission‑loading code.&lt;/li&gt;
&lt;li&gt;Ensured that after you POST just a totp_code, we pick up pending_login_user/pending_login_secret, verify it, then immediately call finalizeLogin().&lt;/li&gt;
&lt;li&gt;Expanded checkAuth.php Response now returns all three flags—folderOnly, readOnly, and disableUpload so client can handle every permission.&lt;/li&gt;
&lt;li&gt;In auth.js’s updateAuthenticatedUI(), write all three flags into localStorage whenever you land on the app (OIDC, basic or form). That guarantees consistent behavior across page loads.&lt;/li&gt;
&lt;li&gt;Made sure the OIDC handler reads the live config via AdminModel::getConfig() and pushes you through the TOTP flow if needed, then back to /index.html.&lt;/li&gt;
&lt;li&gt;Dockerfile, custom-php.ini &amp;amp; start.sh moved into main repo for easier onboarding.&lt;/li&gt;
&lt;li&gt;filerise-docker changed to dedicated CI/CD pipeline&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h2&gt;Changes 4/15/2025&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Adjust Gallery View max columns based on screen size&lt;/li&gt;
&lt;li&gt;Adjust headerTitle to update globally&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Changes 4/14/2025&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Fix Gallery View: medium screen devices get 3 max columns and small screen devices 2 max columns.&lt;/li&gt;
&lt;li&gt;Ensure gallery view toggle button displays after refresh page.&lt;/li&gt;
&lt;li&gt;Force resumable chunk size &amp;amp; fix chunk cleanup&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;filePreview.js Enhancements&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Modal Layout Overhaul:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Left Panel:&lt;/strong&gt; Holds zoom in/out controls at the top and the "prev" button at the bottom.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Center Panel:&lt;/strong&gt; Always centers the preview image.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Right Panel:&lt;/strong&gt; Contains rotate left/right controls at the top and the "next" button at the bottom.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Consistent Control Presence:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Both left and right panels are always included. When there’s only one image, placeholders are inserted in place of missing navigation buttons to ensure the image remains centered and that rotate controls are always visible.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Improved Transform Behavior:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Transformation values (scale and rotation) are reset on each navigation event, ensuring predictable behavior and consistent presentation.&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/error311/FileRise/releases/tag/v1.2.0" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/error311/FileRise/releases/tag/v1.2.1</id>
    <title>New release for FileRise: FileRise v1.2.1</title>
    <updated>2025-04-19T18:45:42-04:00</updated>
    <author>
      <name>error311/FileRise</name>
    </author>
    <content>&lt;p&gt;&lt;strong&gt;Full Changelog&lt;/strong&gt;: https://github.com/error311/FileRise/compare/v1.2.0...v1.2.1&lt;/p&gt;
&lt;h2&gt;Changes 4/19/2025&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Extended “Remember Me” cookie behavior&lt;/strong&gt;&lt;br /&gt;
  In &lt;code&gt;AuthController::finalizeLogin()&lt;/code&gt;, after setting &lt;code&gt;remember_me_token&lt;/code&gt; re‑issued the PHP session cookie with the same 30‑day expiry and called &lt;code&gt;session_regenerate_id(true)&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Fetch URL fixes&lt;/strong&gt;&lt;br /&gt;
  Changed all front‑end &lt;code&gt;fetch("api/…")&lt;/code&gt; calls to absolute paths &lt;code&gt;fetch("/api/…")&lt;/code&gt; to avoid relative‑path 404/403 issues.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;CSRF token refresh&lt;/strong&gt;&lt;br /&gt;
  Updated &lt;code&gt;submitLogin()&lt;/code&gt; and both TOTP submission handlers to &lt;code&gt;async/await&lt;/code&gt; a fresh CSRF token from &lt;code&gt;/api/auth/token.php&lt;/code&gt; (with &lt;code&gt;credentials: "include"&lt;/code&gt;) immediately before any POST.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;submitLogin() overhaul&lt;/strong&gt;&lt;br /&gt;
  Refactored to:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Fetch CSRF  &lt;/li&gt;
&lt;li&gt;POST credentials to &lt;code&gt;/api/auth/auth.php&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;On &lt;code&gt;totp_required&lt;/code&gt;, re‑fetch CSRF &lt;em&gt;again&lt;/em&gt; before calling &lt;code&gt;openTOTPLoginModal()&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Handle full logins vs. TOTP flows cleanly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;TOTP handlers update&lt;/strong&gt;&lt;br /&gt;
  In both the “Confirm TOTP” button flow and the auto‑submit on 6‑digit input:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Refreshed CSRF token before every &lt;code&gt;/api/totp_verify.php&lt;/code&gt; call  &lt;/li&gt;
&lt;li&gt;Checked &lt;code&gt;response.ok&lt;/code&gt; before parsing JSON  &lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Improved &lt;code&gt;.catch&lt;/code&gt; error handling&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;verifyTOTP() endpoint enhancement&lt;/strong&gt;&lt;br /&gt;
  Inside the &lt;strong&gt;pending‑login&lt;/strong&gt; branch of &lt;code&gt;verifyTOTP()&lt;/code&gt;:&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Pulled &lt;code&gt;$_SESSION['pending_login_remember_me']&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;If true, wrote the persistent token store, set &lt;code&gt;remember_me_token&lt;/code&gt;, re‑issued the session cookie, and regenerated the session ID  &lt;/li&gt;
&lt;li&gt;Cleaned up pending session variables&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h2&gt;Changes 4/18/2025&lt;/h2&gt;
&lt;h3&gt;fileListView.js&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Seed and persist &lt;code&gt;itemsPerPage&lt;/code&gt; from &lt;code&gt;localStorage&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;window.itemsPerPage&lt;/code&gt; for pagination in gallery&lt;/li&gt;
&lt;li&gt;Enable search input filtering in gallery mode&lt;/li&gt;
&lt;li&gt;Always re‑render the view‑toggle button on gallery load&lt;/li&gt;
&lt;li&gt;Restore per‑card action buttons (download, edit, rename, share)&lt;/li&gt;
&lt;li&gt;Assign real &lt;code&gt;value&lt;/code&gt; to checkboxes and call &lt;code&gt;updateFileActionButtons()&lt;/code&gt; on change&lt;/li&gt;
&lt;li&gt;Update &lt;code&gt;changePage&lt;/code&gt; and &lt;code&gt;changeItemsPerPage&lt;/code&gt; to respect &lt;code&gt;viewMode&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;fileTags.js&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Import &lt;code&gt;renderFileTable&lt;/code&gt; and &lt;code&gt;renderGalleryView&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Re‑render the list after saving a single‑file tag&lt;/li&gt;
&lt;li&gt;Re‑render the list after saving multi‑file tags&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h2&gt;Changes 4/17/2025&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Generate OpenAPI spec and API HTML docs&lt;/li&gt;
&lt;li&gt;Fully auto‑generated OpenAPI spec (&lt;code&gt;openapi.json&lt;/code&gt;) and interactive HTML docs (&lt;code&gt;api.html&lt;/code&gt;) powered by Redoc.&lt;/li&gt;
&lt;li&gt;.gitattributes added to mark (&lt;code&gt;openapi.json&lt;/code&gt;) &amp;amp; (&lt;code&gt;api.html&lt;/code&gt;) as documentation.&lt;/li&gt;
&lt;li&gt;User Panel added API Docs link.&lt;/li&gt;
&lt;li&gt;Adjusted remember_me_token.&lt;/li&gt;
&lt;li&gt;Test pipeline&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;</content>
    <link href="https://github.com/error311/FileRise/releases/tag/v1.2.1" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/error311/FileRise/releases/tag/v1.2.2</id>
    <title>New release for FileRise: FileRise v1.2.2</title>
    <updated>2025-04-21T11:24:03-04:00</updated>
    <author>
      <name>error311/FileRise</name>
    </author>
    <content>&lt;p&gt;&lt;strong&gt;Full Changelog&lt;/strong&gt;: https://github.com/error311/FileRise/compare/v1.2.1...v1.2.2&lt;/p&gt;
&lt;h2&gt;Changes 4/21/2025 v1.2.2&lt;/h2&gt;
&lt;h3&gt;Added&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;src/webdav/CurrentUser.php&lt;/code&gt;&lt;/strong&gt;&lt;br /&gt;
  – Introduces a &lt;code&gt;CurrentUser&lt;/code&gt; singleton to capture and expose the authenticated WebDAV username for use in other components.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Changed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;src/webdav/FileRiseDirectory.php&lt;/code&gt;&lt;/strong&gt;&lt;br /&gt;
  – Constructor now takes three parameters (&lt;code&gt;$path&lt;/code&gt;, &lt;code&gt;$user&lt;/code&gt;, &lt;code&gt;$folderOnly&lt;/code&gt;).&lt;br /&gt;
  – Implements “folder‑only” mode: non‑admin users only see their own subfolder under the uploads root.&lt;br /&gt;
  – Passes the current user through to &lt;code&gt;FileRiseFile&lt;/code&gt; so that uploads/deletions are attributed correctly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;src/webdav/FileRiseFile.php&lt;/code&gt;&lt;/strong&gt;&lt;br /&gt;
  – Uses &lt;code&gt;CurrentUser::get()&lt;/code&gt; when writing metadata to populate the &lt;code&gt;uploader&lt;/code&gt; field.&lt;br /&gt;
  – Metadata helper (&lt;code&gt;updateMetadata&lt;/code&gt;) now records both upload and modified timestamps along with the actual username.  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;public/webdav.php&lt;/code&gt;&lt;/strong&gt;&lt;br /&gt;
  – Adds a header‐shim at the top to pull Basic‑Auth credentials out of &lt;code&gt;Authorization&lt;/code&gt; for all HTTP methods.&lt;br /&gt;
  – In the auth callback, sets the &lt;code&gt;CurrentUser&lt;/code&gt; for the rest of the request.  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Admins &amp;amp; unrestricted users see the full &lt;code&gt;/uploads&lt;/code&gt; directory.  &lt;/li&gt;
&lt;li&gt;“Folder‑only” users are scoped to &lt;code&gt;/uploads/{username}&lt;/code&gt;.&lt;br /&gt;
  – Configures SabreDAV with the new &lt;code&gt;FileRiseDirectory($rootPath, $user, $folderOnly)&lt;/code&gt; signature and sets the base URI to &lt;code&gt;/webdav.php/&lt;/code&gt;.  &lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/error311/FileRise/releases/tag/v1.2.2" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/error311/FileRise/releases/tag/v1.2.3</id>
    <title>New release for FileRise: FileRise v1.2.3</title>
    <updated>2025-04-22T17:21:03-04:00</updated>
    <author>
      <name>error311/FileRise</name>
    </author>
    <content>&lt;h2&gt;Changes 4/22/2025 v1.2.3&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Support for custom PUID/PGID via &lt;code&gt;PUID&lt;/code&gt;/&lt;code&gt;PGID&lt;/code&gt; environment variables, replacing the need to run the container with &lt;code&gt;--user&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;New &lt;code&gt;PUID&lt;/code&gt; and &lt;code&gt;PGID&lt;/code&gt; config options in the Unraid Community Apps template&lt;/li&gt;
&lt;li&gt;Dockerfile:  &lt;/li&gt;
&lt;li&gt;startup (&lt;code&gt;start.sh&lt;/code&gt;) now runs as root to write &lt;code&gt;/etc/php&lt;/code&gt; &amp;amp; &lt;code&gt;/etc/apache2&lt;/code&gt; configs  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;www‑data&lt;/code&gt; user is remapped at build‑time to the supplied &lt;code&gt;PUID:PGID&lt;/code&gt;, then Apache drops privileges to that user  &lt;/li&gt;
&lt;li&gt;Unraid template: removed recommendation to use &lt;code&gt;--user&lt;/code&gt;; replaced with &lt;code&gt;PUID&lt;/code&gt;, &lt;code&gt;PGID&lt;/code&gt;, and &lt;code&gt;Container Port&lt;/code&gt; variables&lt;/li&gt;
&lt;li&gt;“Permission denied” errors when forcing &lt;code&gt;--user 99:100&lt;/code&gt; on Unraid by ensuring startup runs as root&lt;/li&gt;
&lt;li&gt;Dockerfile silence group issue&lt;/li&gt;
&lt;li&gt;&lt;code&gt;enableWebDAV&lt;/code&gt; toggle in Admin Panel (default: disabled)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Admin Panel enhancements&lt;/strong&gt;  &lt;/li&gt;
&lt;li&gt;New &lt;code&gt;enableWebDAV&lt;/code&gt; boolean setting  &lt;/li&gt;
&lt;li&gt;New &lt;code&gt;sharedMaxUploadSize&lt;/code&gt; numeric setting (bytes)  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Shared Folder upload size&lt;/strong&gt;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;sharedMaxUploadSize&lt;/code&gt; is now enforced in &lt;code&gt;FolderModel::uploadToSharedFolder&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;Upload form header on shared‑folder page dynamically shows “(X MB max size)”  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;API updates&lt;/strong&gt;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;getConfig&lt;/code&gt; and &lt;code&gt;updateConfig&lt;/code&gt; endpoints now include &lt;code&gt;enableWebDAV&lt;/code&gt; and &lt;code&gt;sharedMaxUploadSize&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;Updated &lt;code&gt;AdminModel&lt;/code&gt; &amp;amp; &lt;code&gt;AdminController&lt;/code&gt; to persist and validate new settings  &lt;/li&gt;
&lt;li&gt;Enhanced &lt;code&gt;shareFolder()&lt;/code&gt; view to pull from admin config and format the max‑upload‑size label&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/error311/FileRise/releases/tag/v1.2.3" rel="alternate"/>
  </entry>
  <entry>
    <id>https://github.com/error311/FileRise/releases/tag/v1.2.4</id>
    <title>New release for FileRise: FileRise v1.2.4</title>
    <updated>2025-04-23T12:55:13-04:00</updated>
    <author>
      <name>error311/FileRise</name>
    </author>
    <content>&lt;p&gt;&lt;strong&gt;Full Changelog&lt;/strong&gt;: https://github.com/error311/FileRise/compare/v1.2.3...v1.2.4&lt;/p&gt;
&lt;h2&gt;Changes 4/23/2025 1.2.4&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;AuthModel&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Added&lt;/strong&gt; &lt;code&gt;validateRememberToken(string $token): ?array&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;Reads and decrypts &lt;code&gt;persistent_tokens.json&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;Verifies token exists and hasn’t expired  &lt;/li&gt;
&lt;li&gt;Returns stored payload (&lt;code&gt;username&lt;/code&gt;, &lt;code&gt;expiry&lt;/code&gt;, &lt;code&gt;isAdmin&lt;/code&gt;, etc.) or &lt;code&gt;null&lt;/code&gt; if invalid&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;authController (checkAuth)&lt;/strong&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Enhanced&lt;/strong&gt; “remember-me” re-login path at top of &lt;code&gt;checkAuth()&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;Calls &lt;code&gt;AuthModel::validateRememberToken()&lt;/code&gt; when session is missing but &lt;code&gt;remember_me_token&lt;/code&gt; cookie present  &lt;/li&gt;
&lt;li&gt;Repopulates &lt;code&gt;$_SESSION['authenticated']&lt;/code&gt;, &lt;code&gt;username&lt;/code&gt;, &lt;code&gt;isAdmin&lt;/code&gt;, &lt;code&gt;folderOnly&lt;/code&gt;, &lt;code&gt;readOnly&lt;/code&gt;, &lt;code&gt;disableUpload&lt;/code&gt; from payload  &lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Regenerates session ID and CSRF token, then immediately returns JSON and exits&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Updated&lt;/strong&gt; &lt;code&gt;userController.php&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Fixed totp isAdmin when session is missing but &lt;code&gt;remember_me_token&lt;/code&gt; cookie present&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;loadCsrfToken()&lt;/strong&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Now reads &lt;code&gt;X-CSRF-Token&lt;/code&gt; response header first, falls back to JSON &lt;code&gt;csrf_token&lt;/code&gt; if header absent  &lt;/li&gt;
&lt;li&gt;Updates &lt;code&gt;window.csrfToken&lt;/code&gt;, &lt;code&gt;window.SHARE_URL&lt;/code&gt;, and &lt;code&gt;&amp;lt;meta&amp;gt;&lt;/code&gt; tags with the new values  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;fetchWithCsrf(url, options)&lt;/strong&gt;  &lt;/li&gt;
&lt;li&gt;Sends &lt;code&gt;credentials: 'include'&lt;/code&gt; and current &lt;code&gt;X-CSRF-Token&lt;/code&gt; on every request  &lt;/li&gt;
&lt;li&gt;Handles “soft-failure” JSON (&lt;code&gt;{ csrf_expired: true, csrf_token }&lt;/code&gt;): updates token and retries once without a 403 in DevTools  &lt;/li&gt;
&lt;li&gt;
&lt;p&gt;On HTTP 403 fallback: reads new token from header or &lt;code&gt;/api/auth/token.php&lt;/code&gt;, updates token, and retries once  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;start.sh&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Session directory setup&lt;/li&gt;
&lt;/ul&gt;</content>
    <link href="https://github.com/error311/FileRise/releases/tag/v1.2.4" rel="alternate"/>
  </entry>
</feed>
